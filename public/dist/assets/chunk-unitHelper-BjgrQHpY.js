function g(r){if(typeof r!="string"||r.length===0)return 0;const n={b:1,byte:1,bytes:1,k:1024,kb:1024,kib:1024,kilobyte:1024,m:1024**2,mb:1024**2,mib:1024**2,megabyte:1024**2,g:1024**3,gb:1024**3,gib:1024**3,gigabyte:1024**3,t:1024**4,tb:1024**4,tib:1024**4,terabyte:1024**4,p:1024**5,pb:1024**5,pib:1024**5,petabyte:1024**5},t=r.toLowerCase().replace(/,/g,"").replace(/\s/g,""),e=Object.keys(n).sort((i,u)=>u.length-i.length),c=new RegExp(`(${e.join("|")})$`);let s="b",o=t;const l=t.match(c);l&&(s=l[1],o=t.substring(0,t.length-s.length)),o===""&&(o="1");try{const i=new Function(`return ${o}`)();if(isNaN(i))return 0;const u=n[s];return Math.round(i*u)}catch(i){return console.error(`Error parsing string "${r}":`,i),0}}function a(r){const n=["B","KB","MB","GB","TB","PB"];let t=r,e=0;for(;t>=1024&&e<n.length-1;)t/=1024,e++;return e===0?`${Math.round(t)} ${n[e]}`:e>=2&&r>=1024**3?`${t.toFixed(2)} ${n[e]}`:t>99.99?`${t.toFixed(1)} ${n[e]}`:`${t.toFixed(2)} ${n[e]}`}export{a as f,g as s};
