import{c as $,r as L,j as e}from"./entry-index-B-fzmtso.js";import{s as R,p as W,g as A,m as E,D as O}from"./chunk-dialog-DmkLuhHc.js";import{p as l}from"./chunk-box-3B0sA5_Q.js";import{p as x}from"./chunk-flex-MGzrVjdG.js";import{p as o}from"./chunk-base-button-DH9OSHVU.js";import{o as U}from"./chunk-card-BGBx-kb8.js";import{o as b}from"./chunk-button-DEhGMKH8.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],q=$("upload",_);function N(c,t){if(!t||t.trim()===""||t==="*/*")return!0;const h=t.split(",").map(r=>r.trim().toLowerCase()),m=c.name.toLowerCase(),a=(c.type||"").toLowerCase();for(const r of h)if(r.startsWith(".")){if(m.endsWith(r))return!0}else if(r.includes("/")){if(a===r)return!0;const[n]=r.split("/"),[d]=a.split("/");if(n&&n===d)return!0}return!1}const V=({open:c,onOpenChange:t,title:h,description:m,accept:a="*/*",dragDropText:r,clickToBrowseText:n,hintText:d,uploading:v=!1,progress:p=0,uploadingText:j,cancelUploadLabel:w,onCancelUpload:g,onFileSelected:f,closeLabel:z="Close"})=>{const y=L.useRef(null),C=s=>{s.preventDefault();const i=Array.from(s.dataTransfer.files).find(k=>N(k,a));i&&f&&f(i)},D=s=>{s.preventDefault()},M=s=>{var i;const u=(i=s.target.files)==null?void 0:i[0];u&&N(u,a)&&f&&f(u)};return e.jsx(R,{open:c,onOpenChange:t,children:e.jsxs(W,{maxWidth:"450px",children:[e.jsx(A,{children:h}),m?e.jsx(E,{children:m}):null,e.jsxs(l,{className:"space-y-4 mt-4",children:[e.jsxs(x,{direction:"column",align:"center",justify:"center",className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onDrop:C,onDragOver:D,onClick:()=>{var s;return(s=y.current)==null?void 0:s.click()},children:[e.jsx(q,{size:48,className:"mx-auto text-gray-400 mb-4"}),r?e.jsx(o,{size:"3",weight:"medium",children:r}):null,n?e.jsx(o,{size:"2",color:"gray",className:"mt-2",children:n}):null,d?e.jsx(o,{size:"1",color:"gray",className:"mt-2",children:d}):null]}),e.jsx("input",{ref:y,type:"file",accept:a,onChange:M,className:"hidden"})]}),v&&e.jsx(l,{className:"flex items-center justify-center z-50",children:e.jsxs(U,{className:"p-6 text-center min-w-80 max-w-md",children:[j?e.jsx(o,{size:"3",className:"mt-2 mb-4",children:j}):null,e.jsx(l,{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-3 overflow-hidden",children:e.jsx(l,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full transition-all duration-500 ease-out relative",style:{width:`${Math.max(0,Math.min(100,p))}%`},children:e.jsx(l,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),e.jsx(x,{justify:"between",align:"center",className:"mb-4",children:e.jsxs(o,{size:"2",color:"gray",children:[Math.round(Math.max(0,Math.min(100,p))),"%"]})}),g?e.jsx(b,{variant:"soft",color:"gray",onClick:g,disabled:p>=100,children:w??"Cancel"}):null]})}),e.jsx(x,{gap:"3",mt:"4",justify:"end",children:e.jsx(O,{children:e.jsx(b,{variant:"soft",color:"gray",children:z})})})]})})};export{V as U,q as a};
