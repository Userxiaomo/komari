import{r as l,d as h,j as e,f as p,u,L as f,O as j}from"./entry-index-B-fzmtso.js";import{L as g,N as v}from"./chunk-LiveDataContext-BED_eCku.js";import{p as c}from"./chunk-flex-MGzrVjdG.js";import{p as a}from"./chunk-base-button-DH9OSHVU.js";import{T as y,C as w,L as m}from"./chunk-Login-Bu_7uITu.js";import{L as b}from"./chunk-Tabler-ClGTxKug.js";import{G as L}from"./chunk-react-icons.esm-IORLyq2E.js";import{o as N}from"./chunk-icon-button-Bgu4ejrN.js";import"./chunk-react-vendor-Csw2ODfV.js";import"./chunk-dropdown-menu-CbliYoMA.js";import"./chunk-icons-VdLkFx5D.js";import"./chunk-require-react-element-DVojHXYL.js";import"./chunk-index-BBO7VtY0.js";import"./chunk-index-D_W452Xx.js";import"./chunk-AccountContext-Du9FCxFP.js";import"./chunk-button-DEhGMKH8.js";import"./chunk-dialog-DmkLuhHc.js";import"./chunk-heading-CKQb6e5J.js";import"./chunk-box-3B0sA5_Q.js";import"./chunk-text-field-BEd1A3G3.js";import"./chunk-internal-Be4ivmVq.js";const T=()=>{const o=n=>new Date(n).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Shanghai"})+" (GMT+8)",t="2025-10-08T13:43:03.008Z",[i,d]=l.useState(null),{call:x}=h();return l.useEffect(()=>{(async()=>{var s;try{const r=await x("common:getVersion");d({hash:(s=r.hash)==null?void 0:s.slice(0,7),version:r.version})}catch(r){console.error("Failed to fetch version info:",r)}})()},[]),e.jsx("div",{className:"footer p-2 border-t-1 border-t-[var(--gray-7)]",children:e.jsx(c,{direction:{initial:"column",md:"row"},justify:"between",align:{initial:"center",md:"start"},gap:"4",style:{maxWidth:"1200px",margin:"0 auto"},children:e.jsxs(c,{direction:"column",gap:"2",align:{initial:"center",md:"start"},children:[e.jsx(a,{size:"2",color:"gray",children:"Powered by Komari Monitor."}),e.jsxs(a,{size:"1",color:"gray",children:["Build Time: ",o(t)]}),e.jsx(a,{size:"1",color:"gray",children:i&&`${i.version} (${i.hash})`})]})})})},S=()=>{const{publicInfo:o}=p(),{t}=u();return e.jsxs("nav",{className:"nav-bar flex rounded-b-lg items-center gap-3 max-h-16 justify-end min-w-full p-2 px-4",children:[e.jsxs("div",{className:"mr-auto flex",children:[e.jsx(f,{to:"/",children:e.jsx("label",{className:"text-3xl font-bold ",children:o==null?void 0:o.sitename})}),e.jsxs("div",{className:"hidden flex-row items-end md:flex",children:[e.jsx("div",{style:{color:"var(--accent-3)"},className:"border-solid border-r-2 mr-1 mb-1 w-2 h-2/3"}),e.jsx("label",{className:"text-base font-bold",style:{color:"var(--accent-4)"},children:"Komari Monitor"})]})]}),e.jsx(N,{variant:"soft",onClick:()=>{window.open("https://github.com/komari-monitor","_blank")},children:e.jsx(L,{})}),e.jsx(y,{}),e.jsx(w,{}),e.jsx(b,{}),o!=null&&o.private_site?e.jsx(m,{autoOpen:o==null?void 0:o.private_site,info:t("common.private_site"),onLoginSuccess:()=>{window.location.reload()}}):e.jsx(m,{})]})},q=()=>{const o=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"layout flex flex-col w-full min-h-screen bg-accent-1",children:[e.jsx(S,{}),e.jsx("main",{className:"main-content m-1 h-full",children:e.jsx(j,{})}),e.jsx(T,{})]})});return e.jsx(g,{children:e.jsx(v,{children:e.jsx(o,{})})})};export{q as default};
