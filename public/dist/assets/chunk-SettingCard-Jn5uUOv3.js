import{j as e,R as i,u as D}from"./entry-index-B-fzmtso.js";import{r as Y}from"./chunk-text-area-BDJYKPt5.js";import{o as A}from"./chunk-button-DEhGMKH8.js";import{I as Z,h as _,g as K,v as ee}from"./chunk-dropdown-menu-CbliYoMA.js";import{p as b}from"./chunk-flex-MGzrVjdG.js";import{o as P}from"./chunk-icon-button-Bgu4ejrN.js";import{i as te}from"./chunk-icons-VdLkFx5D.js";import{i as ne}from"./chunk-switch-DMZS-wzt.js";import{u as se}from"./chunk-text-field-BEd1A3G3.js";import{m as F}from"./chunk-proxy-Dyr7ArBS.js";import{C as re}from"./chunk-chevron-down-DWbbmXVQ.js";import{A as ie}from"./chunk-index-Bm_BBTjY.js";function j({title:a="",description:c="",children:h,className:r="",direction:u="column",bordless:n=!1,onHeaderClick:s=()=>{}}){const o=i.Children.toArray(h).find(l=>i.isValidElement(l)&&l.type===B),f=i.Children.toArray(h).filter(l=>!(i.isValidElement(l)&&l.type===B));return e.jsxs(b,{direction:u,justify:"between",align:"center",wrap:"wrap",style:{borderColor:"var(--gray-a5)"},className:n?"border-0":"border-1 rounded-md py-2 px-4 bg-transparent  min-h-8"+r,children:[e.jsxs(b,{className:"w-full",direction:"row",justify:"between",align:"center",wrap:"nowrap",onClick:s,children:[e.jsxs(b,{direction:"column",gap:"1",className:"min-h-10",justify:"center",children:[e.jsx("label",{className:"text-base font-medium",style:{fontWeight:600},children:a}),c&&e.jsx("label",{className:"text-sm text-muted-foreground",children:c})]}),o]}),f]})}function B({children:a}){return e.jsx(e.Fragment,{children:a})}j.Action=B;function ge({label:a="",autoDisabled:c=!0,defaultChecked:h,onChange:r,...u}){const n=i.useRef(null),[s,o]=i.useState(!1),[f,l]=i.useState(h||!1),m=t=>{c&&o(!0);const g=f;l(t);const p=r&&n.current?r(t,n.current):void 0;if(c){const x=p;x&&typeof x.then=="function"?x.then(()=>{}).catch(()=>{l(g)}).finally(()=>{o(!1)}):o(!1)}};return e.jsx(j,{...u,direction:"column",children:e.jsx(j.Action,{children:e.jsxs(b,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(ne,{ref:n,checked:f,onCheckedChange:m,disabled:s})]})})})}function ve({label:a="",variant:c="solid",children:h,onClick:r,autoDisabled:u=!0,...n}){const[s,o]=i.useState(!1),f=l=>{u&&o(!0);const m=r?r(l.currentTarget):void 0;if(u){const t=m;t&&typeof t.then=="function"?t.finally(()=>o(!1)):o(!1)}};return e.jsx(j,{...n,direction:"column",children:e.jsx(j.Action,{children:e.jsx(b,{children:e.jsxs(b,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(A,{onClick:f,variant:c,disabled:s,children:h})]})})})})}function ye({label:a="",variant:c="solid",children:h,onClick:r,autoDisabled:u=!0,...n}){const[s,o]=i.useState(!1),f=l=>{u&&o(!0);const m=r?r(l.currentTarget):void 0;if(u){const t=m;t&&typeof t.then=="function"?t.finally(()=>o(!1)):o(!1)}};return e.jsx(j,{...n,direction:"column",children:e.jsx(j.Action,{children:e.jsx(b,{children:e.jsxs(b,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(P,{onClick:f,variant:c,disabled:s,children:h})]})})})})}function Ce({title:a="",description:c="",bordless:h=!1,showSaveButton:r=!0,label:u=D().t("save"),autoDisabled:n=!0,isSaving:s,OnSave:o=()=>{},children:f=null,onChange:l,onKeyDown:m,value:t,defaultValue:g,placeholder:p,disabled:x,type:y="text",required:S,readOnly:C,maxLength:d,minLength:w,pattern:k,autoComplete:R,autoFocus:q,name:G,id:J,className:M="w-full",...O}){const[Q,N]=i.useState(!1),L=s!==void 0?s:Q,[W,$]=i.useState(t||g||""),T=t!==void 0?t:W,V=i.useRef(null),I=i.useRef(null);i.useEffect(()=>{t!==void 0&&$(t.toString())},[t]);const z=()=>{s===void 0&&n&&N(!0);const v=(T==null?void 0:T.toString())||"",E=V.current&&I.current?o(v,V.current,I.current):void 0;if(n){const H=E;H&&typeof H.then=="function"?H.finally(()=>s===void 0&&N(!1)):s===void 0&&N(!1)}},U=v=>{const E=v.target.value;t===void 0&&$(E),l==null||l(v)},X=v=>{v.key==="Enter"&&(v.preventDefault(),z()),m==null||m(v)};return e.jsx(j,{title:a,description:c,bordless:h,children:e.jsxs(b,{direction:"column",className:"w-full mt-1",gap:"2",align:"start",children:[e.jsx(se,{...O,className:M,value:t!==void 0?t:W,defaultValue:t===void 0?g:void 0,placeholder:p,disabled:x||L,type:y,required:S,readOnly:C,maxLength:d,minLength:w,pattern:k,autoComplete:R,autoFocus:q,name:G,id:J,onChange:U,onKeyDown:X,ref:V}),f,e.jsx(A,{ref:I,onClick:z,variant:"solid",hidden:!r,disabled:L,children:u})]})})}function Se({title:a="",description:c="",label:h=D().t("save"),defaultValue:r="",OnSave:u=()=>{},autoDisabled:n=!0,isSaving:s,bordless:o=!1}){const[f,l]=i.useState(!1),m=s!==void 0?s:f,[t,g]=i.useState(r),p=i.useRef(null),x=i.useRef(null),y=()=>{s===void 0&&n&&l(!0);const C=p.current&&x.current?u(t,p.current,x.current):void 0;if(n){const d=C;d&&typeof d.then=="function"?d.finally(()=>s===void 0&&l(!1)):s===void 0&&l(!1)}},S=C=>{g(C.target.value)};return e.jsx(j,{title:a,description:c,bordless:o,children:e.jsxs(b,{direction:"column",className:"w-full mt-1",gap:"2",align:"start",children:[e.jsx(Y,{className:"w-full",defaultValue:r,resize:"vertical",value:t,onChange:S,ref:p}),e.jsx(A,{ref:x,onClick:y,variant:"solid",disabled:m,children:h})]})})}function we({title:a,description:c,defaultValue:h="",value:r,label:u=D().t("select"),options:n=[],OnSave:s=()=>{},autoDisabled:o=!0,isSaving:f,bordless:l=!1}){const[m,t]=i.useState(!1),g=f!==void 0?f:m,[p,x]=i.useState(r!==void 0?r:h),y=i.useRef(null);i.useEffect(()=>{r!==void 0&&x(r)},[r]);const S=d=>{f===void 0&&o&&t(!0);const w=p;x(d);const k=y.current?s(d,y.current):void 0;if(o){const R=k;R&&typeof R.then=="function"?R.then(()=>{}).catch(()=>{x(w)}).finally(()=>{f===void 0&&t(!1)}):f===void 0&&t(!1)}},C=()=>{if(p){const d=n.find(w=>w.value===p);return(d==null?void 0:d.label)||p}return u};return e.jsx(j,{title:a,description:c,bordless:l,children:e.jsx(j.Action,{children:e.jsx(b,{children:e.jsx(b,{direction:"row",gap:"2",align:"center",children:e.jsxs(Z,{children:[e.jsx(_,{disabled:g,children:e.jsxs(A,{variant:"soft",ref:y,children:[C(),e.jsx(te,{})]})}),e.jsx(K,{children:n.map(d=>e.jsx(ee,{disabled:d.disabled,onSelect:()=>{S(d.value)},children:d.label?d.label:d.value},d.value))})]})})})})})}function Re({children:a}){return e.jsx("label",{className:"text-xl font-bold",style:{fontWeight:600},children:a})}function le({title:a,description:c,defaultOpen:h=!1,children:r,bordless:u=!1}){const[n,s]=i.useState(h);return e.jsxs(j,{title:a,description:c,onHeaderClick:()=>s(!n),bordless:u,children:[e.jsx(j.Action,{children:e.jsx(P,{variant:"soft",onClick:()=>s(!n),"aria-expanded":n,"aria-controls":"collapsible-content",children:e.jsx(F.div,{initial:{rotate:0,scale:1},animate:{rotate:n?180:0,scale:n?1.1:1},transition:{duration:.25,ease:[.4,0,.2,1]},children:e.jsx(re,{})})})}),e.jsx(ie,{children:n&&e.jsxs(F.div,{className:"w-full p-0 md:p-1",layout:!0,initial:{height:0,opacity:0,y:-10},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-10},transition:{duration:.25,ease:[.4,0,.2,1]},style:{overflow:"hidden"},id:"collapsible-content",children:[e.jsx("div",{className:"border-t-1 my-2"}),r]})})]})}le.Header=function({children:c}){return e.jsx("div",{children:c})};export{ge as S,le as a,we as b,Ce as c,Re as d,Se as e,ye as f,ve as g};
