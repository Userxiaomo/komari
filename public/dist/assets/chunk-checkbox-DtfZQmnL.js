import{r,j as p,o as L,P as O,w as I,h as S,k as N,A as H,y as G}from"./entry-index-B-fzmtso.js";import"./chunk-internal-Be4ivmVq.js";import{o as K,a as U}from"./chunk-base-button-DH9OSHVU.js";import{r as X,t as J}from"./chunk-icons-VdLkFx5D.js";import{v as Q,r as V}from"./chunk-flex-MGzrVjdG.js";import{u as j}from"./chunk-require-react-element-DVojHXYL.js";import{u as W}from"./chunk-index-B-NU4fG6.js";var R="Checkbox",[Y,pe]=L(R),[Z,P]=Y(R);function ee(t){const{__scopeCheckbox:c,checked:n,children:i,defaultChecked:o,disabled:e,form:u,name:l,onCheckedChange:a,required:h,value:k="on",internal_do_not_use_render:f}=t,[m,v]=j({prop:n,defaultProp:o??!1,onChange:a,caller:R}),[b,x]=r.useState(null),[E,s]=r.useState(null),d=r.useRef(!1),y=b?!!u||!!b.closest("form"):!0,g={checked:m,disabled:e,setChecked:v,control:b,setControl:x,name:l,form:u,value:k,hasConsumerStoppedPropagationRef:d,required:h,defaultChecked:C(o)?!1:o,isFormControl:y,bubbleInput:E,setBubbleInput:s};return p.jsx(Z,{scope:c,...g,children:te(f)?f(g):i})}var w="CheckboxTrigger",B=r.forwardRef(({__scopeCheckbox:t,onKeyDown:c,onClick:n,...i},o)=>{const{control:e,value:u,disabled:l,checked:a,required:h,setControl:k,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:b}=P(w,t),x=S(o,k),E=r.useRef(a);return r.useEffect(()=>{const s=e==null?void 0:e.form;if(s){const d=()=>f(E.current);return s.addEventListener("reset",d),()=>s.removeEventListener("reset",d)}},[e,f]),p.jsx(I.button,{type:"button",role:"checkbox","aria-checked":C(a)?"mixed":a,"aria-required":h,"data-state":z(a),"data-disabled":l?"":void 0,disabled:l,value:u,...i,ref:x,onKeyDown:N(c,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:N(n,s=>{f(d=>C(d)?!0:!d),b&&v&&(m.current=s.isPropagationStopped(),m.current||s.stopPropagation())})})});B.displayName=w;var A=r.forwardRef((t,c)=>{const{__scopeCheckbox:n,name:i,checked:o,defaultChecked:e,required:u,disabled:l,value:a,onCheckedChange:h,form:k,...f}=t;return p.jsx(ee,{__scopeCheckbox:n,checked:o,defaultChecked:e,disabled:l,required:u,onCheckedChange:h,name:i,form:k,value:a,internal_do_not_use_render:({isFormControl:m})=>p.jsxs(p.Fragment,{children:[p.jsx(B,{...f,ref:c,__scopeCheckbox:n}),m&&p.jsx($,{__scopeCheckbox:n})]})})});A.displayName=R;var M="CheckboxIndicator",T=r.forwardRef((t,c)=>{const{__scopeCheckbox:n,forceMount:i,...o}=t,e=P(M,n);return p.jsx(O,{present:i||C(e.checked)||e.checked===!0,children:p.jsx(I.span,{"data-state":z(e.checked),"data-disabled":e.disabled?"":void 0,...o,ref:c,style:{pointerEvents:"none",...t.style}})})});T.displayName=M;var q="CheckboxBubbleInput",$=r.forwardRef(({__scopeCheckbox:t,...c},n)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:e,defaultChecked:u,required:l,disabled:a,name:h,value:k,form:f,bubbleInput:m,setBubbleInput:v}=P(q,t),b=S(n,v),x=W(e),E=H(i);r.useEffect(()=>{const d=m;if(!d)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,D=!o.current;if(x!==e&&_){const F=new Event("click",{bubbles:D});d.indeterminate=C(e),_.call(d,C(e)?!1:e),d.dispatchEvent(F)}},[m,x,e,o]);const s=r.useRef(C(e)?!1:e);return p.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??s.current,required:l,disabled:a,name:h,value:k,form:f,...c,tabIndex:-1,ref:b,style:{...c.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$.displayName=q;function te(t){return typeof t=="function"}function C(t){return t==="indeterminate"}function z(t){return C(t)?"indeterminate":t?"checked":"unchecked"}const re=["1","2","3"],oe=["classic","surface","soft"],ne={size:{type:"enum",className:"rt-r-size",values:re,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:oe,default:"surface"},...U,...K},ae=r.forwardRef((t,c)=>{const{className:n,color:i,checked:o,defaultChecked:e,onCheckedChange:u,...l}=Q(t,ne,V),[a,h]=j({prop:o,defaultProp:e,onChange:u});return r.createElement(A,{"data-accent-color":i,...l,defaultChecked:e,checked:a,onCheckedChange:h,asChild:!1,ref:c,className:G("rt-reset","rt-BaseCheckboxRoot","rt-CheckboxRoot",n)},r.createElement(T,{asChild:!0,className:"rt-BaseCheckboxIndicator rt-CheckboxIndicator"},r.createElement(a==="indeterminate"?X:J,null)))});ae.displayName="Checkbox";export{ae as c};
