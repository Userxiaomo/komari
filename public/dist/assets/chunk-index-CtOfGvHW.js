import{c as ur,r as c,R as w,g as tt,j as o,h as at,i as va,k as qe,l as Ht,m as ba,n as xa,o as wa,P as jn,p as ya,T as Ca,q as Da,s as Ea,b as Sa,u as $e,t as Pe}from"./entry-index-B-fzmtso.js";import{N as Ra,u as Et}from"./chunk-NodeDetailsContext-C405bEFp.js";import{P as Ta,F as ja,p as Na,l as on}from"./chunk-PriceTags-BBV80nTf.js";import{T as Oa,a as Aa,b as dr,c as He,d as Ia,e as Ve}from"./chunk-table-CFAkpkHt.js";import{u as fr,T as Nn}from"./chunk-tips-CXnB5HDr.js";import{u as Ma,a as sn,h as ka,R as Pa,b as La}from"./chunk-require-react-element-DVojHXYL.js";import{c as hr}from"./chunk-index-CkaccSpC.js";import{c as je}from"./chunk-utils-bRKmu4jq.js";import{f as Vt,s as _a}from"./chunk-unitHelper-BjgrQHpY.js";import{S as mr,a as $a,b as Fa,c as Ba}from"./chunk-SettingCard-Jn5uUOv3.js";import{u as za}from"./chunk-api-iyIgA2Lz.js";import{u as fe,c as Ua}from"./chunk-text-field-BEd1A3G3.js";import{P as Wa}from"./chunk-plus-DsWIVaf8.js";import{c as ye}from"./chunk-checkbox-DtfZQmnL.js";import{o as Le}from"./chunk-button-DEhGMKH8.js";import{s as St,n as rt,p as Rt,g as Tt,m as Ha}from"./chunk-dialog-DmkLuhHc.js";import{p as K}from"./chunk-flex-MGzrVjdG.js";import{o as _e}from"./chunk-icon-button-Bgu4ejrN.js";import{r as xn}from"./chunk-text-area-BDJYKPt5.js";import{p as gt}from"./chunk-base-button-DH9OSHVU.js";import{C as wt,T as Va}from"./chunk-terminal-BnC5kMgn.js";import{D as Ya}from"./chunk-download-vDQkU54R.js";import{P as Xa}from"./chunk-pencil-DkFamgn6.js";import{T as qa}from"./chunk-trash-2-DHbdL15x.js";import"./chunk-react-vendor-Csw2ODfV.js";import"./chunk-internal-Be4ivmVq.js";import"./chunk-index-D_W452Xx.js";import"./chunk-index-BBO7VtY0.js";import"./chunk-box-3B0sA5_Q.js";import"./chunk-badge-NlYxK9Bs.js";import"./chunk-dropdown-menu-CbliYoMA.js";import"./chunk-icons-VdLkFx5D.js";import"./chunk-switch-DMZS-wzt.js";import"./chunk-index-B-NU4fG6.js";import"./chunk-proxy-Dyr7ArBS.js";import"./chunk-chevron-down-DWbbmXVQ.js";import"./chunk-index-Bm_BBTjY.js";import"./chunk-heading-CKQb6e5J.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Ga=ur("circle-dollar-sign",Ka);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Qa=ur("menu",Ja);function Za(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Jt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ot(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function On(e){return"nodeType"in e}function ve(e){var t,n;return e?ot(e)?e:On(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function An(e){const{Document:t}=ve(e);return e instanceof t}function jt(e){return ot(e)?!1:e instanceof ve(e).HTMLElement}function pr(e){return e instanceof ve(e).SVGElement}function it(e){return e?ot(e)?e.document:On(e)?An(e)?e:jt(e)||pr(e)?e.ownerDocument:document:document:document}const Ne=Jt?c.useLayoutEffect:c.useEffect;function In(e){const t=c.useRef(e);return Ne(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function eo(){const e=c.useRef(null),t=c.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yt(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return Ne(()=>{n.current!==e&&(n.current=e)},t),n}function Nt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Yt(e){const t=In(e),n=c.useRef(null),r=c.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function wn(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let ln={};function Ot(e,t){return c.useMemo(()=>{if(t)return t;const n=ln[e]==null?0:ln[e]+1;return ln[e]=n,e+"-"+n},[e,t])}function gr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,l)=>{const s=Object.entries(l);for(const[d,f]of s){const h=i[d];h!=null&&(i[d]=h+e*f)}return i},{...t})}}const nt=gr(1),Xt=gr(-1);function to(e){return"clientX"in e&&"clientY"in e}function Mn(e){if(!e)return!1;const{KeyboardEvent:t}=ve(e.target);return t&&e instanceof t}function no(e){if(!e)return!1;const{TouchEvent:t}=ve(e.target);return t&&e instanceof t}function yn(e){if(no(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return to(e)?{x:e.clientX,y:e.clientY}:null}const Ct=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ct.Translate.toString(e),Ct.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Un="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ro(e){return e.matches(Un)?e:e.querySelector(Un)}const ao={display:"none"};function oo(e){let{id:t,value:n}=e;return w.createElement("div",{id:t,style:ao},n)}function io(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return w.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function so(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const vr=c.createContext(null);function lo(e){const t=c.useContext(vr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function co(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:a,event:i}=r;e.forEach(l=>{var s;return(s=l[a])==null?void 0:s.call(l,i)})},[e]),t]}const uo={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fo={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ho(e){let{announcements:t=fo,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=uo}=e;const{announce:i,announcement:l}=so(),s=Ot("DndLiveRegion"),[d,f]=c.useState(!1);if(c.useEffect(()=>{f(!0)},[]),lo(c.useMemo(()=>({onDragStart(m){let{active:v}=m;i(t.onDragStart({active:v}))},onDragMove(m){let{active:v,over:b}=m;t.onDragMove&&i(t.onDragMove({active:v,over:b}))},onDragOver(m){let{active:v,over:b}=m;i(t.onDragOver({active:v,over:b}))},onDragEnd(m){let{active:v,over:b}=m;i(t.onDragEnd({active:v,over:b}))},onDragCancel(m){let{active:v,over:b}=m;i(t.onDragCancel({active:v,over:b}))}}),[i,t])),!d)return null;const h=w.createElement(w.Fragment,null,w.createElement(oo,{id:r,value:a.draggable}),w.createElement(io,{id:s,announcement:l}));return n?tt.createPortal(h,n):h}var oe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(oe||(oe={}));function qt(){}function cn(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function mo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Se=Object.freeze({x:0,y:0});function po(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function go(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function vo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function bo(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Wn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const xo=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=Wn(t,t.left,t.top),i=[];for(const l of r){const{id:s}=l,d=n.get(s);if(d){const f=po(Wn(d),a);i.push({id:s,data:{droppableContainer:l,value:f}})}}return i.sort(go)};function wo(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=a-r,s=i-n;if(r<a&&n<i){const d=t.width*t.height,f=e.width*e.height,h=l*s,m=h/(d+f-h);return Number(m.toFixed(4))}return 0}const yo=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:l}=i,s=n.get(l);if(s){const d=wo(s,t);d>0&&a.push({id:l,data:{droppableContainer:i,value:d}})}}return a.sort(vo)};function Co(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function br(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Se}function Do(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((l,s)=>({...l,top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),{...n})}}const Eo=Do(1);function So(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ro(e,t,n){const r=So(t);if(!r)return e;const{scaleX:a,scaleY:i,x:l,y:s}=r,d=e.left-l-(1-a)*parseFloat(n),f=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=a?e.width/a:e.width,m=i?e.height/i:e.height;return{width:h,height:m,top:f,right:d+h,bottom:f+m,left:d}}const To={ignoreTransform:!1};function st(e,t){t===void 0&&(t=To);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=ve(e).getComputedStyle(e);f&&(n=Ro(n,f,h))}const{top:r,left:a,width:i,height:l,bottom:s,right:d}=n;return{top:r,left:a,width:i,height:l,bottom:s,right:d}}function Hn(e){return st(e,{ignoreTransform:!0})}function jo(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function No(e,t){return t===void 0&&(t=ve(e).getComputedStyle(e)),t.position==="fixed"}function Oo(e,t){t===void 0&&(t=ve(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function kn(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(An(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!jt(a)||pr(a)||n.includes(a))return n;const i=ve(e).getComputedStyle(a);return a!==e&&Oo(a,i)&&n.push(a),No(a,i)?n:r(a.parentNode)}return e?r(e):n}function xr(e){const[t]=kn(e,1);return t??null}function un(e){return!Jt||!e?null:ot(e)?e:On(e)?An(e)||e===it(e).scrollingElement?window:jt(e)?e:null:null}function wr(e){return ot(e)?e.scrollX:e.scrollLeft}function yr(e){return ot(e)?e.scrollY:e.scrollTop}function Cn(e){return{x:wr(e),y:yr(e)}}var de;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(de||(de={}));function Cr(e){return!Jt||!e?!1:e===document.scrollingElement}function Dr(e){const t={x:0,y:0},n=Cr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:l,isRight:s,maxScroll:r,minScroll:t}}const Ao={x:.2,y:.2};function Io(e,t,n,r,a){let{top:i,left:l,right:s,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=Ao);const{isTop:f,isBottom:h,isLeft:m,isRight:v}=Dr(e),b={x:0,y:0},j={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!f&&i<=t.top+p.height?(b.y=de.Backward,j.y=r*Math.abs((t.top+p.height-i)/p.height)):!h&&d>=t.bottom-p.height&&(b.y=de.Forward,j.y=r*Math.abs((t.bottom-p.height-d)/p.height)),!v&&s>=t.right-p.width?(b.x=de.Forward,j.x=r*Math.abs((t.right-p.width-s)/p.width)):!m&&l<=t.left+p.width&&(b.x=de.Backward,j.x=r*Math.abs((t.left+p.width-l)/p.width)),{direction:b,speed:j}}function Mo(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Er(e){return e.reduce((t,n)=>nt(t,Cn(n)),Se)}function ko(e){return e.reduce((t,n)=>t+wr(n),0)}function Po(e){return e.reduce((t,n)=>t+yr(n),0)}function Lo(e,t){if(t===void 0&&(t=st),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);xr(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _o=[["x",["left","right"],ko],["y",["top","bottom"],Po]];class Pn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=kn(n),a=Er(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,s]of _o)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=s(r),h=a[i]-f;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function $o(e){const{EventTarget:t}=ve(e);return e instanceof t?e:it(e)}function dn(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ce;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ce||(Ce={}));function Vn(e){e.preventDefault()}function Fo(e){e.stopPropagation()}var W;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(W||(W={}));const Sr={start:[W.Space,W.Enter],cancel:[W.Esc],end:[W.Space,W.Enter,W.Tab]},Bo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case W.Right:return{...n,x:n.x+25};case W.Left:return{...n,x:n.x-25};case W.Down:return{...n,y:n.y+25};case W.Up:return{...n,y:n.y-25}}};class Ln{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vt(it(n)),this.windowListeners=new vt(ve(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ce.Resize,this.handleCancel),this.windowListeners.add(Ce.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ce.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Lo(r),n(Se)}handleKeyDown(t){if(Mn(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=Sr,coordinateGetter:l=Bo,scrollBehavior:s="smooth"}=a,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:Se;this.referenceCoordinates||(this.referenceCoordinates=h);const m=l(t,{active:n,context:r.current,currentCoordinates:h});if(m){const v=Xt(m,h),b={x:0,y:0},{scrollableAncestors:j}=r.current;for(const p of j){const E=t.code,{isTop:x,isRight:R,isLeft:D,isBottom:y,maxScroll:O,minScroll:T}=Dr(p),u=Mo(p),g={x:Math.min(E===W.Right?u.right-u.width/2:u.right,Math.max(E===W.Right?u.left:u.left+u.width/2,m.x)),y:Math.min(E===W.Down?u.bottom-u.height/2:u.bottom,Math.max(E===W.Down?u.top:u.top+u.height/2,m.y))},C=E===W.Right&&!R||E===W.Left&&!D,P=E===W.Down&&!y||E===W.Up&&!x;if(C&&g.x!==m.x){const A=p.scrollLeft+v.x,_=E===W.Right&&A<=O.x||E===W.Left&&A>=T.x;if(_&&!v.y){p.scrollTo({left:A,behavior:s});return}_?b.x=p.scrollLeft-A:b.x=E===W.Right?p.scrollLeft-O.x:p.scrollLeft-T.x,b.x&&p.scrollBy({left:-b.x,behavior:s});break}else if(P&&g.y!==m.y){const A=p.scrollTop+v.y,_=E===W.Down&&A<=O.y||E===W.Up&&A>=T.y;if(_&&!v.x){p.scrollTo({top:A,behavior:s});return}_?b.y=p.scrollTop-A:b.y=E===W.Down?p.scrollTop-O.y:p.scrollTop-T.y,b.y&&p.scrollBy({top:-b.y,behavior:s});break}}this.handleMove(t,nt(Xt(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ln.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Sr,onActivation:a}=t,{active:i}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function Yn(e){return!!(e&&"distance"in e)}function Xn(e){return!!(e&&"delay"in e)}class _n{constructor(t,n,r){var a;r===void 0&&(r=$o(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:l}=i;this.props=t,this.events=n,this.document=it(l),this.documentListeners=new vt(this.document),this.listeners=new vt(r),this.windowListeners=new vt(ve(l)),this.initialCoordinates=(a=yn(i))!=null?a:Se,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ce.Resize,this.handleCancel),this.windowListeners.add(Ce.DragStart,Vn),this.windowListeners.add(Ce.VisibilityChange,this.handleCancel),this.windowListeners.add(Ce.ContextMenu,Vn),this.documentListeners.add(Ce.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Yn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ce.Click,Fo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ce.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:l,options:{activationConstraint:s}}=i;if(!a)return;const d=(n=yn(t))!=null?n:Se,f=Xt(a,d);if(!r&&s){if(Yn(s)){if(s.tolerance!=null&&dn(f,s.tolerance))return this.handleCancel();if(dn(f,s.distance))return this.handleStart()}if(Xn(s)&&dn(f,s.tolerance))return this.handleCancel();this.handlePending(s,f);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===W.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const zo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rr extends _n{constructor(t){const{event:n}=t,r=it(n.target);super(t,zo,r)}}Rr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Uo={move:{name:"mousemove"},end:{name:"mouseup"}};var Dn;(function(e){e[e.RightClick=2]="RightClick"})(Dn||(Dn={}));class Tr extends _n{constructor(t){super(t,Uo,it(t.event.target))}}Tr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Dn.RightClick?!1:(r==null||r({event:n}),!0)}}];const fn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jr extends _n{constructor(t){super(t,fn)}static setup(){return window.addEventListener(fn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(fn.move.name,t)};function t(){}}}jr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var bt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(bt||(bt={}));var Kt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kt||(Kt={}));function Wo(e){let{acceleration:t,activator:n=bt.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:l=5,order:s=Kt.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:h,delta:m,threshold:v}=e;const b=Vo({delta:m,disabled:!i}),[j,p]=eo(),E=c.useRef({x:0,y:0}),x=c.useRef({x:0,y:0}),R=c.useMemo(()=>{switch(n){case bt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case bt.DraggableRect:return a}},[n,a,d]),D=c.useRef(null),y=c.useCallback(()=>{const T=D.current;if(!T)return;const u=E.current.x*x.current.x,g=E.current.y*x.current.y;T.scrollBy(u,g)},[]),O=c.useMemo(()=>s===Kt.TreeOrder?[...f].reverse():f,[s,f]);c.useEffect(()=>{if(!i||!f.length||!R){p();return}for(const T of O){if((r==null?void 0:r(T))===!1)continue;const u=f.indexOf(T),g=h[u];if(!g)continue;const{direction:C,speed:P}=Io(T,g,R,t,v);for(const A of["x","y"])b[A][C[A]]||(P[A]=0,C[A]=0);if(P.x>0||P.y>0){p(),D.current=T,j(y,l),E.current=P,x.current=C;return}}E.current={x:0,y:0},x.current={x:0,y:0},p()},[t,y,r,p,i,l,JSON.stringify(R),JSON.stringify(b),j,f,O,h,JSON.stringify(v)])}const Ho={x:{[de.Backward]:!1,[de.Forward]:!1},y:{[de.Backward]:!1,[de.Forward]:!1}};function Vo(e){let{delta:t,disabled:n}=e;const r=wn(t);return Nt(a=>{if(n||!r||!a)return Ho;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[de.Backward]:a.x[de.Backward]||i.x===-1,[de.Forward]:a.x[de.Forward]||i.x===1},y:{[de.Backward]:a.y[de.Backward]||i.y===-1,[de.Forward]:a.y[de.Forward]||i.y===1}}},[n,t,r])}function Yo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Nt(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function Xo(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...i]},[]),[e,t])}var Dt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Dt||(Dt={}));var En;(function(e){e.Optimized="optimized"})(En||(En={}));const qn=new Map;function qo(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,l]=c.useState(null),{frequency:s,measure:d,strategy:f}=a,h=c.useRef(e),m=E(),v=yt(m),b=c.useCallback(function(x){x===void 0&&(x=[]),!v.current&&l(R=>R===null?x:R.concat(x.filter(D=>!R.includes(D))))},[v]),j=c.useRef(null),p=Nt(x=>{if(m&&!n)return qn;if(!x||x===qn||h.current!==e||i!=null){const R=new Map;for(let D of e){if(!D)continue;if(i&&i.length>0&&!i.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const y=D.node.current,O=y?new Pn(d(y),y):null;D.rect.current=O,O&&R.set(D.id,O)}return R}return x},[e,i,n,m,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{m||b()},[n,m]),c.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),c.useEffect(()=>{m||typeof s!="number"||j.current!==null||(j.current=setTimeout(()=>{b(),j.current=null},s))},[s,m,b,...r]),{droppableRects:p,measureDroppableContainers:b,measuringScheduled:i!=null};function E(){switch(f){case Dt.Always:return!1;case Dt.BeforeDragging:return n;default:return!n}}}function Nr(e,t){return Nt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ko(e,t){return Nr(e,t)}function Go(e){let{callback:t,disabled:n}=e;const r=In(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Qt(e){let{callback:t,disabled:n}=e;const r=In(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Jo(e){return new Pn(st(e),e)}function Kn(e,t,n){t===void 0&&(t=Jo);const[r,a]=c.useState(null);function i(){a(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const l=Go({callback(d){if(e)for(const f of d){const{type:h,target:m}=f;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),s=Qt({callback:i});return Ne(()=>{i(),e?(s==null||s.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),l==null||l.disconnect())},[e]),r}function Qo(e){const t=Nr(e);return br(e,t)}const Gn=[];function Zo(e){const t=c.useRef(e),n=Nt(r=>e?r&&r!==Gn&&e&&t.current&&e.parentNode===t.current.parentNode?r:kn(e):Gn,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function ei(e){const[t,n]=c.useState(null),r=c.useRef(e),a=c.useCallback(i=>{const l=un(i.target);l&&n(s=>s?(s.set(l,Cn(l)),new Map(s)):null)},[]);return c.useEffect(()=>{const i=r.current;if(e!==i){l(i);const s=e.map(d=>{const f=un(d);return f?(f.addEventListener("scroll",a,{passive:!0}),[f,Cn(f)]):null}).filter(d=>d!=null);n(s.length?new Map(s):null),r.current=e}return()=>{l(e),l(i)};function l(s){s.forEach(d=>{const f=un(d);f==null||f.removeEventListener("scroll",a)})}},[a,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>nt(i,l),Se):Er(e):Se,[e,t])}function Jn(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==Se;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xt(e,n.current):Se}function ti(e){c.useEffect(()=>{if(!Jt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ni(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=l=>{i(l,t)},n},{}),[e,t])}function Or(e){return c.useMemo(()=>e?jo(e):null,[e])}const Qn=[];function ri(e,t){t===void 0&&(t=st);const[n]=e,r=Or(n?ve(n):null),[a,i]=c.useState(Qn);function l(){i(()=>e.length?e.map(d=>Cr(d)?r:new Pn(t(d),d)):Qn)}const s=Qt({callback:l});return Ne(()=>{s==null||s.disconnect(),l(),e.forEach(d=>s==null?void 0:s.observe(d))},[e]),a}function ai(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jt(t)?t:e}function oi(e){let{measure:t}=e;const[n,r]=c.useState(null),a=c.useCallback(f=>{for(const{target:h}of f)if(jt(h)){r(m=>{const v=t(h);return m?{...m,width:v.width,height:v.height}:v});break}},[t]),i=Qt({callback:a}),l=c.useCallback(f=>{const h=ai(f);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?t(h):null)},[t,i]),[s,d]=Yt(l);return c.useMemo(()=>({nodeRef:s,rect:n,setRef:d}),[n,s,d])}const ii=[{sensor:Rr,options:{}},{sensor:Ln,options:{}}],si={current:{}},Wt={draggable:{measure:Hn},droppable:{measure:Hn,strategy:Dt.WhileDragging,frequency:En.Optimized},dragOverlay:{measure:st}};class xt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const li={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wt,measureDroppableContainers:qt,windowRect:null,measuringScheduled:!1},ci={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qt,draggableNodes:new Map,over:null,measureDroppableContainers:qt},Zt=c.createContext(ci),Ar=c.createContext(li);function ui(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xt}}}function di(e,t){switch(t.type){case oe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case oe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case oe.DragEnd:case oe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case oe.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new xt(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case oe.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const l=new xt(e.droppable.containers);return l.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case oe.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new xt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fi(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=c.useContext(Zt),i=wn(r),l=wn(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&i&&l!=null){if(!Mn(i)||document.activeElement===i.target)return;const s=a.get(l);if(!s)return;const{activatorNode:d,node:f}=s;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[d.current,f.current]){if(!h)continue;const m=ro(h);if(m){m.focus();break}}})}},[r,t,a,l,i]),null}function hi(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function mi(e){return c.useMemo(()=>({draggable:{...Wt.draggable,...e==null?void 0:e.draggable},droppable:{...Wt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Wt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function pi(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=c.useRef(!1),{x:l,y:s}=typeof a=="boolean"?{x:a,y:a}:a;Ne(()=>{if(!l&&!s||!t){i.current=!1;return}if(i.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),m=br(h,r);if(l||(m.x=0),s||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=xr(f);v&&v.scrollBy({top:m.y,left:m.x})}},[t,l,s,r,n])}const Ir=c.createContext({...Se,scaleX:1,scaleY:1});var Xe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xe||(Xe={}));const gi=c.memo(function(t){var n,r,a,i;let{id:l,accessibility:s,autoScroll:d=!0,children:f,sensors:h=ii,collisionDetection:m=yo,measuring:v,modifiers:b,...j}=t;const p=c.useReducer(di,void 0,ui),[E,x]=p,[R,D]=co(),[y,O]=c.useState(Xe.Uninitialized),T=y===Xe.Initialized,{draggable:{active:u,nodes:g,translate:C},droppable:{containers:P}}=E,A=u!=null?g.get(u):null,_=c.useRef({initial:null,translated:null}),S=c.useMemo(()=>{var k;return u!=null?{id:u,data:(k=A==null?void 0:A.data)!=null?k:si,rect:_}:null},[u,A]),z=c.useRef(null),[H,Z]=c.useState(null),[F,ie]=c.useState(null),ee=yt(j,Object.values(j)),se=Ot("DndDescribedBy",l),Oe=c.useMemo(()=>P.getEnabled(),[P]),re=mi(v),{droppableRects:le,measureDroppableContainers:ge,measuringScheduled:De}=qo(Oe,{dragging:T,dependencies:[C.x,C.y],config:re.droppable}),ce=Yo(g,u),N=c.useMemo(()=>F?yn(F):null,[F]),L=V(),q=Ko(ce,re.draggable.measure);pi({activeNode:u!=null?g.get(u):null,config:L.layoutShiftCompensation,initialRect:q,measure:re.draggable.measure});const $=Kn(ce,re.draggable.measure,q),he=Kn(ce?ce.parentElement:null),be=c.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:g,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=P.getNodeFor((n=be.current.over)==null?void 0:n.id),I=oi({measure:re.dragOverlay.measure}),Ie=(r=I.nodeRef.current)!=null?r:ce,Me=T?(a=I.rect)!=null?a:$:null,Ze=!!(I.nodeRef.current&&I.rect),It=Qo(Ze?null:$),lt=Or(Ie?ve(Ie):null),me=Zo(T?Ae??ce:null),Ge=ri(me),et=hi(b,{transform:{x:C.x-It.x,y:C.y-It.y,scaleX:1,scaleY:1},activatorEvent:F,active:S,activeNodeRect:$,containerNodeRect:he,draggingNodeRect:Me,over:be.current.over,overlayNodeRect:I.rect,scrollableAncestors:me,scrollableAncestorRects:Ge,windowRect:lt}),Be=N?nt(N,C):null,Mt=ei(me),kt=Jn(Mt),tn=Jn(Mt,[$]),ze=nt(et,kt),Ee=Me?Eo(Me,et):null,Je=S&&Ee?m({active:S,collisionRect:Ee,droppableRects:le,droppableContainers:Oe,pointerCoordinates:Be}):null,ct=bo(Je,"id"),[Te,Ue]=c.useState(null),Pt=Ze?et:nt(et,tn),nn=Co(Pt,(i=Te==null?void 0:Te.rect)!=null?i:null,$),ut=c.useRef(null),Lt=c.useCallback((k,B)=>{let{sensor:Y,options:J}=B;if(z.current==null)return;const te=g.get(z.current);if(!te)return;const G=k.nativeEvent,ue=new Y({active:z.current,activeNode:te,event:G,options:J,context:be,onAbort(X){if(!g.get(X))return;const{onDragAbort:we}=ee.current,ke={id:X};we==null||we(ke),R({type:"onDragAbort",event:ke})},onPending(X,xe,we,ke){if(!g.get(X))return;const{onDragPending:ft}=ee.current,We={id:X,constraint:xe,initialCoordinates:we,offset:ke};ft==null||ft(We),R({type:"onDragPending",event:We})},onStart(X){const xe=z.current;if(xe==null)return;const we=g.get(xe);if(!we)return;const{onDragStart:ke}=ee.current,dt={activatorEvent:G,active:{id:xe,data:we.data,rect:_}};tt.unstable_batchedUpdates(()=>{ke==null||ke(dt),O(Xe.Initializing),x({type:oe.DragStart,initialCoordinates:X,active:xe}),R({type:"onDragStart",event:dt}),Z(ut.current),ie(G)})},onMove(X){x({type:oe.DragMove,coordinates:X})},onEnd:pe(oe.DragEnd),onCancel:pe(oe.DragCancel)});ut.current=ue;function pe(X){return async function(){const{active:we,collisions:ke,over:dt,scrollAdjustedTranslate:ft}=be.current;let We=null;if(we&&ft){const{cancelDrop:ht}=ee.current;We={activatorEvent:G,active:we,collisions:ke,delta:ft,over:dt},X===oe.DragEnd&&typeof ht=="function"&&await Promise.resolve(ht(We))&&(X=oe.DragCancel)}z.current=null,tt.unstable_batchedUpdates(()=>{x({type:X}),O(Xe.Uninitialized),Ue(null),Z(null),ie(null),ut.current=null;const ht=X===oe.DragEnd?"onDragEnd":"onDragCancel";if(We){const an=ee.current[ht];an==null||an(We),R({type:ht,event:We})}})}}},[g]),rn=c.useCallback((k,B)=>(Y,J)=>{const te=Y.nativeEvent,G=g.get(J);if(z.current!==null||!G||te.dndKit||te.defaultPrevented)return;const ue={active:G};k(Y,B.options,ue)===!0&&(te.dndKit={capturedBy:B.sensor},z.current=J,Lt(Y,B))},[g,Lt]),_t=Xo(h,rn);ti(h),Ne(()=>{$&&y===Xe.Initializing&&O(Xe.Initialized)},[$,y]),c.useEffect(()=>{const{onDragMove:k}=ee.current,{active:B,activatorEvent:Y,collisions:J,over:te}=be.current;if(!B||!Y)return;const G={active:B,activatorEvent:Y,collisions:J,delta:{x:ze.x,y:ze.y},over:te};tt.unstable_batchedUpdates(()=>{k==null||k(G),R({type:"onDragMove",event:G})})},[ze.x,ze.y]),c.useEffect(()=>{const{active:k,activatorEvent:B,collisions:Y,droppableContainers:J,scrollAdjustedTranslate:te}=be.current;if(!k||z.current==null||!B||!te)return;const{onDragOver:G}=ee.current,ue=J.get(ct),pe=ue&&ue.rect.current?{id:ue.id,rect:ue.rect.current,data:ue.data,disabled:ue.disabled}:null,X={active:k,activatorEvent:B,collisions:Y,delta:{x:te.x,y:te.y},over:pe};tt.unstable_batchedUpdates(()=>{Ue(pe),G==null||G(X),R({type:"onDragOver",event:X})})},[ct]),Ne(()=>{be.current={activatorEvent:F,active:S,activeNode:ce,collisionRect:Ee,collisions:Je,droppableRects:le,draggableNodes:g,draggingNode:Ie,draggingNodeRect:Me,droppableContainers:P,over:Te,scrollableAncestors:me,scrollAdjustedTranslate:ze},_.current={initial:Me,translated:Ee}},[S,ce,Je,Ee,g,Ie,Me,le,P,Te,me,ze]),Wo({...L,delta:C,draggingRect:Ee,pointerCoordinates:Be,scrollableAncestors:me,scrollableAncestorRects:Ge});const M=c.useMemo(()=>({active:S,activeNode:ce,activeNodeRect:$,activatorEvent:F,collisions:Je,containerNodeRect:he,dragOverlay:I,draggableNodes:g,droppableContainers:P,droppableRects:le,over:Te,measureDroppableContainers:ge,scrollableAncestors:me,scrollableAncestorRects:Ge,measuringConfiguration:re,measuringScheduled:De,windowRect:lt}),[S,ce,$,F,Je,he,I,g,P,le,Te,ge,me,Ge,re,De,lt]),U=c.useMemo(()=>({activatorEvent:F,activators:_t,active:S,activeNodeRect:$,ariaDescribedById:{draggable:se},dispatch:x,draggableNodes:g,over:Te,measureDroppableContainers:ge}),[F,_t,S,$,x,se,g,Te,ge]);return w.createElement(vr.Provider,{value:D},w.createElement(Zt.Provider,{value:U},w.createElement(Ar.Provider,{value:M},w.createElement(Ir.Provider,{value:nn},f)),w.createElement(fi,{disabled:(s==null?void 0:s.restoreFocus)===!1})),w.createElement(ho,{...s,hiddenTextDescribedById:se}));function V(){const k=(H==null?void 0:H.autoScrollEnabled)===!1,B=typeof d=="object"?d.enabled===!1:d===!1,Y=T&&!k&&!B;return typeof d=="object"?{...d,enabled:Y}:{enabled:Y}}}),vi=c.createContext(null),Zn="button",bi="Draggable";function xi(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=Ot(bi),{activators:l,activatorEvent:s,active:d,activeNodeRect:f,ariaDescribedById:h,draggableNodes:m,over:v}=c.useContext(Zt),{role:b=Zn,roleDescription:j="draggable",tabIndex:p=0}=a??{},E=(d==null?void 0:d.id)===t,x=c.useContext(E?Ir:vi),[R,D]=Yt(),[y,O]=Yt(),T=ni(l,t),u=yt(n);Ne(()=>(m.set(t,{id:t,key:i,node:R,activatorNode:y,data:u}),()=>{const C=m.get(t);C&&C.key===i&&m.delete(t)}),[m,t]);const g=c.useMemo(()=>({role:b,tabIndex:p,"aria-disabled":r,"aria-pressed":E&&b===Zn?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[r,b,p,E,j,h.draggable]);return{active:d,activatorEvent:s,activeNodeRect:f,attributes:g,isDragging:E,listeners:r?void 0:T,node:R,over:v,setNodeRef:D,setActivatorNodeRef:O,transform:x}}function wi(){return c.useContext(Ar)}const yi="Droppable",Ci={timeout:25};function Di(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=Ot(yi),{active:l,dispatch:s,over:d,measureDroppableContainers:f}=c.useContext(Zt),h=c.useRef({disabled:n}),m=c.useRef(!1),v=c.useRef(null),b=c.useRef(null),{disabled:j,updateMeasurementsFor:p,timeout:E}={...Ci,...a},x=yt(p??r),R=c.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{f(Array.isArray(x.current)?x.current:[x.current]),b.current=null},E)},[E]),D=Qt({callback:R,disabled:j||!l}),y=c.useCallback((g,C)=>{D&&(C&&(D.unobserve(C),m.current=!1),g&&D.observe(g))},[D]),[O,T]=Yt(y),u=yt(t);return c.useEffect(()=>{!D||!O.current||(D.disconnect(),m.current=!1,D.observe(O.current))},[O,D]),c.useEffect(()=>(s({type:oe.RegisterDroppable,element:{id:r,key:i,disabled:n,node:O,rect:v,data:u}}),()=>s({type:oe.UnregisterDroppable,key:i,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(s({type:oe.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,s]),{active:l,rect:v,isOver:(d==null?void 0:d.id)===r,node:O,over:d,setNodeRef:T}}function Mr(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ei(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function $t(e){return e!==null&&e>=0}function Si(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ri(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=Mr(t,r,n),l=t[a],s=i[a];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}},Ft={scaleX:1,scaleY:1},Ti=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:l}=e;const s=(t=i[n])!=null?t:r;if(!s)return null;if(a===n){const f=i[l];return f?{x:0,y:n<l?f.top+f.height-(s.top+s.height):f.top-s.top,...Ft}:null}const d=ji(i,a,n);return a>n&&a<=l?{x:0,y:-s.height-d,...Ft}:a<n&&a>=l?{x:0,y:s.height+d,...Ft}:{x:0,y:0,...Ft}};function ji(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Pr="Sortable",Lr=w.createContext({activeIndex:-1,containerId:Pr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kr,disabled:{draggable:!1,droppable:!1}});function Ni(e){let{children:t,id:n,items:r,strategy:a=kr,disabled:i=!1}=e;const{active:l,dragOverlay:s,droppableRects:d,over:f,measureDroppableContainers:h}=wi(),m=Ot(Pr,n),v=s.rect!==null,b=c.useMemo(()=>r.map(T=>typeof T=="object"&&"id"in T?T.id:T),[r]),j=l!=null,p=l?b.indexOf(l.id):-1,E=f?b.indexOf(f.id):-1,x=c.useRef(b),R=!Si(b,x.current),D=E!==-1&&p===-1||R,y=Ri(i);Ne(()=>{R&&j&&h(b)},[R,b,j,h]),c.useEffect(()=>{x.current=b},[b]);const O=c.useMemo(()=>({activeIndex:p,containerId:m,disabled:y,disableTransforms:D,items:b,overIndex:E,useDragOverlay:v,sortedRects:Ei(b,d),strategy:a}),[p,m,y.draggable,y.droppable,D,b,E,d,v,a]);return w.createElement(Lr.Provider,{value:O},t)}const Oi=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Mr(n,r,a).indexOf(t)},Ai=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:l,previousItems:s,previousContainerId:d,transition:f}=e;return!f||!r||s!==i&&a===l?!1:n?!0:l!==a&&t===d},Ii={duration:200,easing:"ease"},_r="transform",Mi=Ct.Transition.toString({property:_r,duration:0,easing:"linear"}),ki={roleDescription:"sortable"};function Pi(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,l]=c.useState(null),s=c.useRef(n);return Ne(()=>{if(!t&&n!==s.current&&r.current){const d=a.current;if(d){const f=st(r.current,{ignoreTransform:!0}),h={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(h.x||h.y)&&l(h)}}n!==s.current&&(s.current=n)},[t,n,r,a]),c.useEffect(()=>{i&&l(null)},[i]),i}function Li(e){let{animateLayoutChanges:t=Ai,attributes:n,disabled:r,data:a,getNewIndex:i=Oi,id:l,strategy:s,resizeObserverConfig:d,transition:f=Ii}=e;const{items:h,containerId:m,activeIndex:v,disabled:b,disableTransforms:j,sortedRects:p,overIndex:E,useDragOverlay:x,strategy:R}=c.useContext(Lr),D=_i(r,b),y=h.indexOf(l),O=c.useMemo(()=>({sortable:{containerId:m,index:y,items:h},...a}),[m,a,y,h]),T=c.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:u,node:g,isOver:C,setNodeRef:P}=Di({id:l,data:O,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...d}}),{active:A,activatorEvent:_,activeNodeRect:S,attributes:z,setNodeRef:H,listeners:Z,isDragging:F,over:ie,setActivatorNodeRef:ee,transform:se}=xi({id:l,data:O,attributes:{...ki,...n},disabled:D.draggable}),Oe=Za(P,H),re=!!A,le=re&&!j&&$t(v)&&$t(E),ge=!x&&F,De=ge&&le?se:null,N=le?De??(s??R)({rects:p,activeNodeRect:S,activeIndex:v,overIndex:E,index:y}):null,L=$t(v)&&$t(E)?i({id:l,items:h,activeIndex:v,overIndex:E}):y,q=A==null?void 0:A.id,$=c.useRef({activeId:q,items:h,newIndex:L,containerId:m}),he=h!==$.current.items,be=t({active:A,containerId:m,isDragging:F,isSorting:re,id:l,index:y,items:h,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:f,wasDragging:$.current.activeId!=null}),Ae=Pi({disabled:!be,index:y,node:g,rect:u});return c.useEffect(()=>{re&&$.current.newIndex!==L&&($.current.newIndex=L),m!==$.current.containerId&&($.current.containerId=m),h!==$.current.items&&($.current.items=h)},[re,L,m,h]),c.useEffect(()=>{if(q===$.current.activeId)return;if(q!=null&&$.current.activeId==null){$.current.activeId=q;return}const Ie=setTimeout(()=>{$.current.activeId=q},50);return()=>clearTimeout(Ie)},[q]),{active:A,activeIndex:v,attributes:z,data:O,rect:u,index:y,newIndex:L,items:h,isOver:C,isSorting:re,isDragging:F,listeners:Z,node:g,overIndex:E,over:ie,setNodeRef:Oe,setActivatorNodeRef:ee,setDroppableNodeRef:P,setDraggableNodeRef:H,transform:Ae??N,transition:I()};function I(){if(Ae||he&&$.current.newIndex===y)return Mi;if(!(ge&&!Mn(_)||!f)&&(re||be))return Ct.Transition.toString({...f,property:_r})}}function _i(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}W.Down,W.Right,W.Up,W.Left;var $i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=$i.reduce((e,t)=>{const n=hr(`Primitive.${t}`),r=c.forwardRef((a,i)=>{const{asChild:l,...s}=a,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...s,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Fi(e,t){e&&tt.flushSync(()=>e.dispatchEvent(t))}var Bi="DismissableLayer",Sn="dismissableLayer.update",zi="dismissableLayer.pointerDownOutside",Ui="dismissableLayer.focusOutside",er,$r=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fr=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:s,...d}=e,f=c.useContext($r),[h,m]=c.useState(null),v=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=c.useState({}),j=at(t,u=>m(u)),p=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(E),R=h?p.indexOf(h):-1,D=f.layersWithOutsidePointerEventsDisabled.size>0,y=R>=x,O=Vi(u=>{const g=u.target,C=[...f.branches].some(P=>P.contains(g));!y||C||(a==null||a(u),l==null||l(u),u.defaultPrevented||s==null||s())},v),T=Yi(u=>{const g=u.target;[...f.branches].some(P=>P.contains(g))||(i==null||i(u),l==null||l(u),u.defaultPrevented||s==null||s())},v);return va(u=>{R===f.layers.size-1&&(r==null||r(u),!u.defaultPrevented&&s&&(u.preventDefault(),s()))},v),c.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(er=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),tr(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=er)}},[h,v,n,f]),c.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),tr())},[h,f]),c.useEffect(()=>{const u=()=>b({});return document.addEventListener(Sn,u),()=>document.removeEventListener(Sn,u)},[]),o.jsx(Fe.div,{...d,ref:j,style:{pointerEvents:D?y?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,O.onPointerDownCapture)})});Fr.displayName=Bi;var Wi="DismissableLayerBranch",Hi=c.forwardRef((e,t)=>{const n=c.useContext($r),r=c.useRef(null),a=at(t,r);return c.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Fe.div,{...e,ref:a})});Hi.displayName=Wi;function Vi(e,t=globalThis==null?void 0:globalThis.document){const n=Ht(e),r=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const i=s=>{if(s.target&&!r.current){let d=function(){Br(zi,n,f,{discrete:!0})};const f={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Yi(e,t=globalThis==null?void 0:globalThis.document){const n=Ht(e),r=c.useRef(!1);return c.useEffect(()=>{const a=i=>{i.target&&!r.current&&Br(Ui,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tr(){const e=new CustomEvent(Sn);document.dispatchEvent(e)}function Br(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Fi(a,i):a.dispatchEvent(i)}var hn="focusScope.autoFocusOnMount",mn="focusScope.autoFocusOnUnmount",nr={bubbles:!1,cancelable:!0},Xi="FocusScope",zr=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[s,d]=c.useState(null),f=Ht(a),h=Ht(i),m=c.useRef(null),v=at(t,p=>d(p)),b=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let p=function(D){if(b.paused||!s)return;const y=D.target;s.contains(y)?m.current=y:Ye(m.current,{select:!0})},E=function(D){if(b.paused||!s)return;const y=D.relatedTarget;y!==null&&(s.contains(y)||Ye(m.current,{select:!0}))},x=function(D){if(document.activeElement===document.body)for(const O of D)O.removedNodes.length>0&&Ye(s)};document.addEventListener("focusin",p),document.addEventListener("focusout",E);const R=new MutationObserver(x);return s&&R.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",E),R.disconnect()}}},[r,s,b.paused]),c.useEffect(()=>{if(s){ar.add(b);const p=document.activeElement;if(!s.contains(p)){const x=new CustomEvent(hn,nr);s.addEventListener(hn,f),s.dispatchEvent(x),x.defaultPrevented||(qi(Zi(Ur(s)),{select:!0}),document.activeElement===p&&Ye(s))}return()=>{s.removeEventListener(hn,f),setTimeout(()=>{const x=new CustomEvent(mn,nr);s.addEventListener(mn,h),s.dispatchEvent(x),x.defaultPrevented||Ye(p??document.body,{select:!0}),s.removeEventListener(mn,h),ar.remove(b)},0)}}},[s,f,h,b]);const j=c.useCallback(p=>{if(!n&&!r||b.paused)return;const E=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(E&&x){const R=p.currentTarget,[D,y]=Ki(R);D&&y?!p.shiftKey&&x===y?(p.preventDefault(),n&&Ye(D,{select:!0})):p.shiftKey&&x===D&&(p.preventDefault(),n&&Ye(y,{select:!0})):x===R&&p.preventDefault()}},[n,r,b.paused]);return o.jsx(Fe.div,{tabIndex:-1,...l,ref:v,onKeyDown:j})});zr.displayName=Xi;function qi(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ye(r,{select:t}),document.activeElement!==n)return}function Ki(e){const t=Ur(e),n=rr(t,e),r=rr(t.reverse(),e);return[n,r]}function Ur(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rr(e,t){for(const n of e)if(!Gi(n,{upTo:t}))return n}function Gi(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ji(e){return e instanceof HTMLInputElement&&"select"in e}function Ye(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ji(e)&&t&&e.select()}}var ar=Qi();function Qi(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=or(e,t),e.unshift(t)},remove(t){var n;e=or(e,t),(n=e[0])==null||n.resume()}}}function or(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Zi(e){return e.filter(t=>t.tagName!=="A")}var es="Portal",Wr=c.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[a,i]=c.useState(!1);ba(()=>i(!0),[]);const l=n||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return l?xa.createPortal(o.jsx(Fe.div,{...r,ref:t}),l):null});Wr.displayName=es;var en="Dialog",[Hr,Jl]=wa(en),[ts,Re]=Hr(en),Vr=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,s=c.useRef(null),d=c.useRef(null),[f,h]=Ma({prop:r,defaultProp:a??!1,onChange:i,caller:en});return o.jsx(ts,{scope:t,triggerRef:s,contentRef:d,contentId:sn(),titleId:sn(),descriptionId:sn(),open:f,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(m=>!m),[h]),modal:l,children:n})};Vr.displayName=en;var Yr="DialogTrigger",Xr=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Re(Yr,n),i=at(t,a.triggerRef);return o.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bn(a.open),...r,ref:i,onClick:qe(e.onClick,a.onOpenToggle)})});Xr.displayName=Yr;var $n="DialogPortal",[ns,qr]=Hr($n,{forceMount:void 0}),Kr=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=Re($n,t);return o.jsx(ns,{scope:t,forceMount:n,children:c.Children.map(r,l=>o.jsx(jn,{present:n||i.open,children:o.jsx(Wr,{asChild:!0,container:a,children:l})}))})};Kr.displayName=$n;var Gt="DialogOverlay",Gr=c.forwardRef((e,t)=>{const n=qr(Gt,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Re(Gt,e.__scopeDialog);return i.modal?o.jsx(jn,{present:r||i.open,children:o.jsx(as,{...a,ref:t})}):null});Gr.displayName=Gt;var rs=hr("DialogOverlay.RemoveScroll"),as=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Re(Gt,n);return o.jsx(Pa,{as:rs,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Fe.div,{"data-state":Bn(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qe="DialogContent",Jr=c.forwardRef((e,t)=>{const n=qr(Qe,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Re(Qe,e.__scopeDialog);return o.jsx(jn,{present:r||i.open,children:i.modal?o.jsx(os,{...a,ref:t}):o.jsx(is,{...a,ref:t})})});Jr.displayName=Qe;var os=c.forwardRef((e,t)=>{const n=Re(Qe,e.__scopeDialog),r=c.useRef(null),a=at(t,n.contentRef,r);return c.useEffect(()=>{const i=r.current;if(i)return ka(i)},[]),o.jsx(Qr,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0;(l.button===2||s)&&i.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,i=>i.preventDefault())})}),is=c.forwardRef((e,t)=>{const n=Re(Qe,e.__scopeDialog),r=c.useRef(!1),a=c.useRef(!1);return o.jsx(Qr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,s;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Qr=c.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,s=Re(Qe,n),d=c.useRef(null),f=at(t,d);return La(),o.jsxs(o.Fragment,{children:[o.jsx(zr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(Fr,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Bn(s.open),...l,ref:f,onDismiss:()=>s.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ss,{titleId:s.titleId}),o.jsx(cs,{contentRef:d,descriptionId:s.descriptionId})]})]})}),Fn="DialogTitle",Zr=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Re(Fn,n);return o.jsx(Fe.h2,{id:a.titleId,...r,ref:t})});Zr.displayName=Fn;var ea="DialogDescription",ta=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Re(ea,n);return o.jsx(Fe.p,{id:a.descriptionId,...r,ref:t})});ta.displayName=ea;var na="DialogClose",ra=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Re(na,n);return o.jsx(Fe.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>a.onOpenChange(!1))})});ra.displayName=na;function Bn(e){return e?"open":"closed"}var aa="DialogTitleWarning",[Ql,oa]=ya(aa,{contentName:Qe,titleName:Fn,docsSlug:"dialog"}),ss=({titleId:e})=>{const t=oa(aa),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ls="DialogDescriptionWarning",cs=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oa(ls).contentName}}.`;return c.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},us=Vr,ds=Xr,fs=Kr,hs=Gr,ms=Jr,ps=Zr,gs=ta,vs=ra;function bs(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const ia=w.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),At=()=>{const e=w.useContext(ia);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};bs(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function xs(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function ws(){return zn(/^Mac/)}function ys(){return zn(/^iPhone/)}function ir(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Cs(){return zn(/^iPad/)||ws()&&navigator.maxTouchPoints>1}function sa(){return ys()||Cs()}function zn(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Ds=24,Es=typeof window<"u"?c.useLayoutEffect:c.useEffect;function sr(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const pn=typeof document<"u"&&window.visualViewport;function lr(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function la(e){for(lr(e)&&(e=e.parentElement);e&&!lr(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Ss=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Bt=0,gn;function Rs(e={}){let{isDisabled:t}=e;Es(()=>{if(!t)return Bt++,Bt===1&&sa()&&(gn=Ts()),()=>{Bt--,Bt===0&&(gn==null||gn())}},[t])}function Ts(){let e,t=0,n=m=>{e=la(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},r=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let v=m.changedTouches[0].pageY,b=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((b<=0&&v>t||b>=j&&v<t)&&m.preventDefault(),t=v)},a=m=>{let v=m.target;Rn(v)&&v!==document.activeElement&&(m.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},i=m=>{let v=m.target;Rn(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",pn&&(pn.height<window.innerHeight?requestAnimationFrame(()=>{cr(v)}):pn.addEventListener("resize",()=>cr(v),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},s=window.pageXOffset,d=window.pageYOffset,f=sr(js(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=sr(mt(document,"touchstart",n,{passive:!1,capture:!0}),mt(document,"touchmove",r,{passive:!1,capture:!0}),mt(document,"touchend",a,{passive:!1,capture:!0}),mt(document,"focus",i,!0),mt(window,"scroll",l));return()=>{f(),h(),window.scrollTo(s,d)}}function js(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function mt(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function cr(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=la(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+Ds;i>l&&(n.scrollTop+=a-r)}e=n.parentElement}}function Rn(e){return e instanceof HTMLInputElement&&!Ss.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Ns(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Os(...e){return t=>e.forEach(n=>Ns(n,t))}function ca(...e){return c.useCallback(Os(...e),e)}const ua=new WeakMap;function ae(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}r[a]=e.style[a],e.style[a]=i}),!n&&ua.set(e,r)}function As(e,t){if(!e||!(e instanceof HTMLElement))return;let n=ua.get(e);n&&(e.style[t]=n[t])}const ne=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function zt(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ne(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ne(t)?5:4]):null)}function Is(e){return 8*(Math.log(e+1)-2)}function vn(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Ms(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Q={DURATION:.5,EASE:[.32,.72,0,1]},da=.4,ks=.25,Ps=100,fa=8,Ut=16,Tn=26,bn="vaul-dragging";function ha(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Ls({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,a=w.useRef(r),i=ha(t);return w.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}function ma({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Ls({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:r,s=ha(n),d=w.useCallback(f=>{if(i){const m=typeof f=="function"?f(e):f;m!==e&&s(m)}else a(f)},[i,e,a,s]);return[l,d]}function _s({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:i,onSnapPointChange:l,direction:s="bottom",container:d,snapToSequentialPoint:f}){const[h,m]=ma({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[v,b]=w.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);w.useEffect(()=>{function u(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const j=w.useMemo(()=>h===(n==null?void 0:n[n.length-1])||null,[n,h]),p=w.useMemo(()=>{var u;return(u=n==null?void 0:n.findIndex(g=>g===h))!=null?u:null},[n,h]),E=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===h||!n,x=w.useMemo(()=>{const u=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var g;return(g=n==null?void 0:n.map(C=>{const P=typeof C=="string";let A=0;if(P&&(A=parseInt(C,10)),ne(s)){const S=P?A:v?C*u.height:0;return v?s==="bottom"?u.height-S:-u.height+S:S}const _=P?A:v?C*u.width:0;return v?s==="right"?u.width-_:-u.width+_:_}))!=null?g:[]},[n,v,d]),R=w.useMemo(()=>p!==null?x==null?void 0:x[p]:null,[x,p]),D=w.useCallback(u=>{var g;const C=(g=x==null?void 0:x.findIndex(P=>P===u))!=null?g:null;l(C),ae(r.current,{transition:`transform ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,transform:ne(s)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),x&&C!==x.length-1&&i!==void 0&&C!==i&&C<i?ae(a.current,{transition:`opacity ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,opacity:"0"}):ae(a.current,{transition:`opacity ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,opacity:"1"}),m(n==null?void 0:n[Math.max(C,0)])},[r.current,n,x,i,a,m]);w.useEffect(()=>{if(h||e){var u;const g=(u=n==null?void 0:n.findIndex(C=>C===e||C===h))!=null?u:-1;x&&g!==-1&&typeof x[g]=="number"&&D(x[g])}},[h,e,n,x,D]);function y({draggedDistance:u,closeDrawer:g,velocity:C,dismissible:P}){if(i===void 0)return;const A=s==="bottom"||s==="right"?(R??0)-u:(R??0)+u,_=p===i-1,S=p===0,z=u>0;if(_&&ae(a.current,{transition:`opacity ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`}),!f&&C>2&&!z){P?g():D(x[0]);return}if(!f&&C>2&&z&&x&&n){D(x[n.length-1]);return}const H=x==null?void 0:x.reduce((F,ie)=>typeof F!="number"||typeof ie!="number"?F:Math.abs(ie-A)<Math.abs(F-A)?ie:F),Z=ne(s)?window.innerHeight:window.innerWidth;if(C>da&&Math.abs(u)<Z*.4){const F=z?1:-1;if(F>0&&j&&n){D(x[n.length-1]);return}if(S&&F<0&&P&&g(),p===null)return;D(x[p+F]);return}D(H)}function O({draggedDistance:u}){if(R===null)return;const g=s==="bottom"||s==="right"?R-u:R+u;(s==="bottom"||s==="right")&&g<x[x.length-1]||(s==="top"||s==="left")&&g>x[x.length-1]||ae(r.current,{transform:ne(s)?`translate3d(0, ${g}px, 0)`:`translate3d(${g}px, 0, 0)`})}function T(u,g){if(!n||typeof p!="number"||!x||i===void 0)return null;const C=p===i-1;if(p>=i&&g)return 0;if(C&&!g)return 1;if(!E&&!C)return null;const A=C?p+1:p-1,_=C?x[A]-x[A-1]:x[A+1]-x[A],S=u/Math.abs(_);return C?1-S:S}return{isLastSnapPoint:j,activeSnapPoint:h,shouldFade:E,getPercentageDragged:T,setActiveSnapPoint:m,activeSnapPointIndex:p,onRelease:y,onDrag:O,snapPointsOffset:x}}const $s=()=>()=>{};function Fs(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=At(),i=w.useRef(null),l=c.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-Tn)/window.innerWidth}w.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;Ms(r&&!a?vn(document.body,{background:"black"}):$s,vn(d,{transformOrigin:ne(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Q.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Q.EASE.join(",")})`}));const f=vn(d,{borderRadius:`${fa}px`,overflow:"hidden",...ne(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),i.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Q.DURATION*1e3)}}},[t,n,l])}let pt=null;function Bs({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:i}){const[l,s]=w.useState(()=>typeof window<"u"?window.location.href:""),d=w.useRef(0),f=w.useCallback(()=>{if(ir()&&pt===null&&e&&!i){pt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=v-window.innerHeight;b&&d.current>=v&&(document.body.style.top=`${-(d.current+b)}px`)}),300)}},[e]),h=w.useCallback(()=>{if(ir()&&pt!==null&&!i){const m=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,pt),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){s(window.location.href);return}window.scrollTo(v,m)}),pt=null}},[l]);return w.useEffect(()=>{function m(){d.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),w.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[t,h]),w.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{h()},500)):h())},[e,r,l,t,n,f,h]),{restorePositionSetting:h}}function zs({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:i,shouldScaleBackground:l=!1,setBackgroundColorOnScale:s=!0,closeThreshold:d=ks,scrollLockTimeout:f=Ps,dismissible:h=!0,handleOnly:m=!1,fadeFromIndex:v=i&&i.length-1,activeSnapPoint:b,setActiveSnapPoint:j,fixed:p,modal:E=!0,onClose:x,nested:R,noBodyStyles:D=!1,direction:y="bottom",defaultOpen:O=!1,disablePreventScroll:T=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:g=!1,repositionInputs:C=!0,onAnimationEnd:P,container:A,autoFocus:_=!1}){var S,z;const[H=!1,Z]=ma({defaultProp:O,prop:e,onChange:M=>{t==null||t(M),!M&&!R&&ze(),setTimeout(()=>{P==null||P(M)},Q.DURATION*1e3),M&&!E&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),M||(document.body.style.pointerEvents="auto")}}),[F,ie]=w.useState(!1),[ee,se]=w.useState(!1),[Oe,re]=w.useState(!1),le=w.useRef(null),ge=w.useRef(null),De=w.useRef(null),ce=w.useRef(null),N=w.useRef(null),L=w.useRef(!1),q=w.useRef(null),$=w.useRef(0),he=w.useRef(!1),be=w.useRef(!O),Ae=w.useRef(0),I=w.useRef(null),Ie=w.useRef(((S=I.current)==null?void 0:S.getBoundingClientRect().height)||0),Me=w.useRef(((z=I.current)==null?void 0:z.getBoundingClientRect().width)||0),Ze=w.useRef(0),It=w.useCallback(M=>{i&&M===Be.length-1&&(ge.current=new Date)},[]),{activeSnapPoint:lt,activeSnapPointIndex:me,setActiveSnapPoint:Ge,onRelease:et,snapPointsOffset:Be,onDrag:Mt,shouldFade:kt,getPercentageDragged:tn}=_s({snapPoints:i,activeSnapPointProp:b,setActiveSnapPointProp:j,drawerRef:I,fadeFromIndex:v,overlayRef:le,onSnapPointChange:It,direction:y,container:A,snapToSequentialPoint:u});Rs({isDisabled:!H||ee||!E||Oe||!F||!C||!T});const{restorePositionSetting:ze}=Bs({isOpen:H,modal:E,nested:R??!1,hasBeenOpened:F,preventScrollRestoration:g,noBodyStyles:D});function Ee(){return(window.innerWidth-Tn)/window.innerWidth}function Je(M){var U,V;!h&&!i||I.current&&!I.current.contains(M.target)||(Ie.current=((U=I.current)==null?void 0:U.getBoundingClientRect().height)||0,Me.current=((V=I.current)==null?void 0:V.getBoundingClientRect().width)||0,se(!0),De.current=new Date,sa()&&window.addEventListener("touchend",()=>L.current=!1,{once:!0}),M.target.setPointerCapture(M.pointerId),$.current=ne(y)?M.pageY:M.pageX)}function ct(M,U){var V;let k=M;const B=(V=window.getSelection())==null?void 0:V.toString(),Y=I.current?zt(I.current,y):null,J=new Date;if(k.tagName==="SELECT"||k.hasAttribute("data-vaul-no-drag")||k.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(ge.current&&J.getTime()-ge.current.getTime()<500)return!1;if(Y!==null&&(y==="bottom"?Y>0:Y<0))return!0;if(B&&B.length>0)return!1;if(N.current&&J.getTime()-N.current.getTime()<f&&Y===0||U)return N.current=J,!1;for(;k;){if(k.scrollHeight>k.clientHeight){if(k.scrollTop!==0)return N.current=new Date,!1;if(k.getAttribute("role")==="dialog")return!0}k=k.parentNode}return!0}function Te(M){if(I.current&&ee){const U=y==="bottom"||y==="right"?1:-1,V=($.current-(ne(y)?M.pageY:M.pageX))*U,k=V>0,B=i&&!h&&!k;if(B&&me===0)return;const Y=Math.abs(V),J=document.querySelector("[data-vaul-drawer-wrapper]"),te=y==="bottom"||y==="top"?Ie.current:Me.current;let G=Y/te;const ue=tn(Y,k);if(ue!==null&&(G=ue),B&&G>=1||!L.current&&!ct(M.target,k))return;if(I.current.classList.add(bn),L.current=!0,ae(I.current,{transition:"none"}),ae(le.current,{transition:"none"}),i&&Mt({draggedDistance:V}),k&&!i){const X=Is(V),xe=Math.min(X*-1,0)*U;ae(I.current,{transform:ne(y)?`translate3d(0, ${xe}px, 0)`:`translate3d(${xe}px, 0, 0)`});return}const pe=1-G;if((kt||v&&me===v-1)&&(r==null||r(M,G),ae(le.current,{opacity:`${pe}`,transition:"none"},!0)),J&&le.current&&l){const X=Math.min(Ee()+G*(1-Ee()),1),xe=8-G*8,we=Math.max(0,14-G*14);ae(J,{borderRadius:`${xe}px`,transform:ne(y)?`scale(${X}) translate3d(0, ${we}px, 0)`:`scale(${X}) translate3d(${we}px, 0, 0)`,transition:"none"},!0)}if(!i){const X=Y*U;ae(I.current,{transform:ne(y)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}w.useEffect(()=>{window.requestAnimationFrame(()=>{be.current=!0})},[]),w.useEffect(()=>{var M;function U(){if(!I.current||!C)return;const V=document.activeElement;if(Rn(V)||he.current){var k;const B=((k=window.visualViewport)==null?void 0:k.height)||0,Y=window.innerHeight;let J=Y-B;const te=I.current.getBoundingClientRect().height||0,G=te>Y*.8;Ze.current||(Ze.current=te);const ue=I.current.getBoundingClientRect().top;if(Math.abs(Ae.current-J)>60&&(he.current=!he.current),i&&i.length>0&&Be&&me){const pe=Be[me]||0;J+=pe}if(Ae.current=J,te>B||he.current){const pe=I.current.getBoundingClientRect().height;let X=pe;pe>B&&(X=B-(G?ue:Tn)),p?I.current.style.height=`${pe-Math.max(J,0)}px`:I.current.style.height=`${Math.max(X,B-ue)}px`}else xs()||(I.current.style.height=`${Ze.current}px`);i&&i.length>0&&!he.current?I.current.style.bottom="0px":I.current.style.bottom=`${Math.max(J,0)}px`}}return(M=window.visualViewport)==null||M.addEventListener("resize",U),()=>{var V;return(V=window.visualViewport)==null?void 0:V.removeEventListener("resize",U)}},[me,i,Be]);function Ue(M){nn(),x==null||x(),M||Z(!1),setTimeout(()=>{i&&Ge(i[0])},Q.DURATION*1e3)}function Pt(){if(!I.current)return;const M=document.querySelector("[data-vaul-drawer-wrapper]"),U=zt(I.current,y);ae(I.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`}),ae(le.current,{transition:`opacity ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,opacity:"1"}),l&&U&&U>0&&H&&ae(M,{borderRadius:`${fa}px`,overflow:"hidden",...ne(y)?{transform:`scale(${Ee()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ee()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Q.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Q.EASE.join(",")})`},!0)}function nn(){!ee||!I.current||(I.current.classList.remove(bn),L.current=!1,se(!1),ce.current=new Date)}function ut(M){if(!ee||!I.current)return;I.current.classList.remove(bn),L.current=!1,se(!1),ce.current=new Date;const U=zt(I.current,y);if(!M||!ct(M.target,!1)||!U||Number.isNaN(U)||De.current===null)return;const V=ce.current.getTime()-De.current.getTime(),k=$.current-(ne(y)?M.pageY:M.pageX),B=Math.abs(k)/V;if(B>.05&&(re(!0),setTimeout(()=>{re(!1)},200)),i){et({draggedDistance:k*(y==="bottom"||y==="right"?1:-1),closeDrawer:Ue,velocity:B,dismissible:h}),a==null||a(M,!0);return}if(y==="bottom"||y==="right"?k>0:k<0){Pt(),a==null||a(M,!0);return}if(B>da){Ue(),a==null||a(M,!1);return}var Y;const J=Math.min((Y=I.current.getBoundingClientRect().height)!=null?Y:0,window.innerHeight);var te;const G=Math.min((te=I.current.getBoundingClientRect().width)!=null?te:0,window.innerWidth),ue=y==="left"||y==="right";if(Math.abs(U)>=(ue?G:J)*d){Ue(),a==null||a(M,!1);return}a==null||a(M,!0),Pt()}w.useEffect(()=>(H&&(ae(document.documentElement,{scrollBehavior:"auto"}),ge.current=new Date),()=>{As(document.documentElement,"scrollBehavior")}),[H]);function Lt(M){const U=M?(window.innerWidth-Ut)/window.innerWidth:1,V=M?-16:0;q.current&&window.clearTimeout(q.current),ae(I.current,{transition:`transform ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,transform:ne(y)?`scale(${U}) translate3d(0, ${V}px, 0)`:`scale(${U}) translate3d(${V}px, 0, 0)`}),!M&&I.current&&(q.current=setTimeout(()=>{const k=zt(I.current,y);ae(I.current,{transition:"none",transform:ne(y)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})},500))}function rn(M,U){if(U<0)return;const V=(window.innerWidth-Ut)/window.innerWidth,k=V+U*(1-V),B=-16+U*Ut;ae(I.current,{transform:ne(y)?`scale(${k}) translate3d(0, ${B}px, 0)`:`scale(${k}) translate3d(${B}px, 0, 0)`,transition:"none"})}function _t(M,U){const V=ne(y)?window.innerHeight:window.innerWidth,k=U?(V-Ut)/V:1,B=U?-16:0;U&&ae(I.current,{transition:`transform ${Q.DURATION}s cubic-bezier(${Q.EASE.join(",")})`,transform:ne(y)?`scale(${k}) translate3d(0, ${B}px, 0)`:`scale(${k}) translate3d(${B}px, 0, 0)`})}return w.useEffect(()=>{E||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[E]),w.createElement(us,{defaultOpen:O,onOpenChange:M=>{!h&&!M||(M?ie(!0):Ue(!0),Z(M))},open:H},w.createElement(ia.Provider,{value:{activeSnapPoint:lt,snapPoints:i,setActiveSnapPoint:Ge,drawerRef:I,overlayRef:le,onOpenChange:t,onPress:Je,onRelease:ut,onDrag:Te,dismissible:h,shouldAnimate:be,handleOnly:m,isOpen:H,isDragging:ee,shouldFade:kt,closeDrawer:Ue,onNestedDrag:rn,onNestedOpenChange:Lt,onNestedRelease:_t,keyboardIsOpen:he,modal:E,snapPointsOffset:Be,activeSnapPointIndex:me,direction:y,shouldScaleBackground:l,setBackgroundColorOnScale:s,noBodyStyles:D,container:A,autoFocus:_}},n))}const pa=w.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:i,isOpen:l,modal:s,shouldAnimate:d}=At(),f=ca(t,n),h=r&&r.length>0;if(!s)return null;const m=w.useCallback(v=>a(v),[a]);return w.createElement(hs,{onMouseUp:m,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":l&&h?"true":"false","data-vaul-snap-points-overlay":l&&i?"true":"false","data-vaul-animate":d!=null&&d.current?"true":"false",...e})});pa.displayName="Drawer.Overlay";const ga=w.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:i,onPress:l,onRelease:s,onDrag:d,keyboardIsOpen:f,snapPointsOffset:h,activeSnapPointIndex:m,modal:v,isOpen:b,direction:j,snapPoints:p,container:E,handleOnly:x,shouldAnimate:R,autoFocus:D}=At(),[y,O]=w.useState(!1),T=ca(a,i),u=w.useRef(null),g=w.useRef(null),C=w.useRef(!1),P=p&&p.length>0;Fs();const A=(S,z,H=0)=>{if(C.current)return!0;const Z=Math.abs(S.y),F=Math.abs(S.x),ie=F>Z,ee=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(S.x*ee<0)&&F>=0&&F<=H)return ie}else if(!(S.y*ee<0)&&Z>=0&&Z<=H)return!ie;return C.current=!0,!0};w.useEffect(()=>{P&&window.requestAnimationFrame(()=>{O(!0)})},[]);function _(S){u.current=null,C.current=!1,s(S)}return w.createElement(ms,{"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":b&&P?"true":"false","data-vaul-custom-container":E?"true":"false","data-vaul-animate":R!=null&&R.current?"true":"false",...r,ref:T,style:h&&h.length>0?{"--snap-point-height":`${h[m??0]}px`,...t}:t,onPointerDown:S=>{x||(r.onPointerDown==null||r.onPointerDown.call(r,S),u.current={x:S.pageX,y:S.pageY},l(S))},onOpenAutoFocus:S=>{n==null||n(S),D||S.preventDefault()},onPointerDownOutside:S=>{if(e==null||e(S),!v||S.defaultPrevented){S.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:S=>{if(!v){S.preventDefault();return}},onPointerMove:S=>{if(g.current=S,x||(r.onPointerMove==null||r.onPointerMove.call(r,S),!u.current))return;const z=S.pageY-u.current.y,H=S.pageX-u.current.x,Z=S.pointerType==="touch"?10:2;A({x:H,y:z},j,Z)?d(S):(Math.abs(H)>Z||Math.abs(z)>Z)&&(u.current=null)},onPointerUp:S=>{r.onPointerUp==null||r.onPointerUp.call(r,S),u.current=null,C.current=!1,s(S)},onPointerOut:S=>{r.onPointerOut==null||r.onPointerOut.call(r,S),_(g.current)},onContextMenu:S=>{r.onContextMenu==null||r.onContextMenu.call(r,S),g.current&&_(g.current)}})});ga.displayName="Drawer.Content";const Us=250,Ws=120,Hs=w.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:i,snapPoints:l,activeSnapPoint:s,setActiveSnapPoint:d,dismissible:f,handleOnly:h,isOpen:m,onPress:v,onDrag:b}=At(),j=w.useRef(null),p=w.useRef(!1);function E(){if(p.current){D();return}window.setTimeout(()=>{x()},Ws)}function x(){if(i||e||p.current){D();return}if(D(),!l||l.length===0){f||a();return}if(s===l[l.length-1]&&f){a();return}const O=l.findIndex(u=>u===s);if(O===-1)return;const T=l[O+1];d(T)}function R(){j.current=window.setTimeout(()=>{p.current=!0},Us)}function D(){j.current&&window.clearTimeout(j.current),p.current=!1}return w.createElement("div",{onClick:E,onPointerCancel:D,onPointerDown:y=>{h&&v(y),R()},onPointerMove:y=>{h&&b(y)},ref:r,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},w.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Hs.displayName="Drawer.Handle";function Vs(e){const t=At(),{container:n=t.container,...r}=e;return w.createElement(fs,{container:n,...r})}const Ke={Root:zs,Content:ga,Overlay:pa,Trigger:ds,Portal:Vs,Close:vs,Title:ps,Description:gs};function Ys({...e}){return o.jsx(Ke.Root,{"data-slot":"drawer",...e})}function Xs({...e}){return o.jsx(Ke.Trigger,{"data-slot":"drawer-trigger",...e})}function qs({...e}){return o.jsx(Ke.Portal,{"data-slot":"drawer-portal",...e})}function Ks({...e}){return o.jsx(Ke.Close,{"data-slot":"drawer-close",...e})}function Gs({className:e,...t}){return o.jsx(Ke.Overlay,{"data-slot":"drawer-overlay",className:je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Js({className:e,children:t,...n}){const{appearance:r,color:a}=c.useContext(Ca),i=Da(r);return o.jsxs(qs,{"data-slot":"drawer-portal",children:[" ",o.jsxs(Ea,{appearance:i,accentColor:a,children:[o.jsx(Gs,{}),o.jsxs(Ke.Content,{"data-slot":"drawer-content",className:je("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...n,children:[o.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})," "]})]})}function Qs({className:e,...t}){return o.jsx("div",{"data-slot":"drawer-header",className:je("flex flex-col gap-1.5 p-4",e),...t})}function Zs({className:e,...t}){return o.jsx("div",{"data-slot":"drawer-footer",className:je("mt-auto flex flex-col gap-2 p-4",e),...t})}function el({className:e,...t}){return o.jsx(Ke.Title,{"data-slot":"drawer-title",className:je("text-foreground font-semibold",e),...t})}function tl({className:e,...t}){return o.jsx(Ke.Description,{"data-slot":"drawer-description",className:je("text-muted-foreground text-sm",e),...t})}function nl(e){const{options:t,value:n,defaultValue:r,onChange:a,placeholder:i,allowCustomInput:l,className:s,listClassName:d,optionClassName:f,emptyText:h="No results",filter:m,getOptionLabel:v,getOptionValue:b,disabled:j,onBlur:p,onFocus:E,onKeyDown:x,type:R="text",name:D}=e,y=c.useMemo(()=>t.map(N=>typeof N=="string"||typeof N=="number"?{label:String(N),value:N}:N),[t]),O=c.useCallback(N=>v?v(N):N.label,[v]),T=c.useCallback(N=>{if(b)return b(N);const L=N.value;return typeof L=="string"?L:String(L)},[b]),u=c.useRef(null),g=c.useRef(null),C=n!=null,[P,A]=c.useState(r??""),_=C?n:P,[S,z]=c.useState(!1),[H,Z]=c.useState(-1),F=(l??!0)===!0,ie=c.useMemo(()=>{const N=(_??"").trim().toLowerCase(),L=y;return N?m?L.filter(q=>m(q,_)):L.filter(q=>{const $=O(q).toLowerCase(),he=T(q).toLowerCase();return $.includes(N)||he.includes(N)}):L},[y,_,m,O,T]),ee=c.useCallback((N,L)=>{C||A(N),a==null||a(N,L)},[C,a]),se=c.useMemo(()=>{if(ie.length>0)return ie;const N=(_??"").trim();return N?F?[{label:N,value:N}]:[]:[]},[ie,_,F]),Oe=c.useCallback(N=>{const L=se[N];if(!L||L.disabled)return;const q=T(L);ee(q,L),z(!1)},[se,T,ee]),re=N=>{const L=N.target.value;C||A(L),a==null||a(L),S||z(!0),Z(0)},le=N=>{z(!0),E==null||E(N)},ge=N=>{p==null||p(N)},De=N=>{if(x==null||x(N),!S&&(N.key==="ArrowDown"||N.key==="ArrowUp")){z(!0),N.preventDefault();return}S&&(N.key==="ArrowDown"?(N.preventDefault(),Z(L=>Math.min((L<0?-1:L)+1,Math.max(se.length-1,0)))):N.key==="ArrowUp"?(N.preventDefault(),Z(L=>Math.max((L<0?0:L)-1,0))):N.key==="Enter"?(N.preventDefault(),H>=0&&H<se.length?Oe(H):F&&(ee(_),z(!1))):N.key==="Escape"&&(N.preventDefault(),z(!1)))};c.useEffect(()=>{if(!g.current||H<0)return;const N=g.current.children[H];N&&N.scrollIntoView({block:"nearest"})},[H]),c.useEffect(()=>{if(!S)return;const N=L=>{const q=L.target;u.current&&(q&&u.current.contains(q)||z(!1))};return document.addEventListener("mousedown",N,{capture:!0}),()=>document.removeEventListener("mousedown",N,{capture:!0})},[S]);const ce=c.useId();return o.jsxs("div",{ref:u,className:je("relative",s),children:[o.jsx(fe,{"aria-expanded":S,"aria-autocomplete":"list",placeholder:i,value:_,onChange:re,onFocus:le,onBlur:ge,onKeyDown:De,disabled:j,type:R,name:D}),S&&o.jsx("div",{className:je("absolute left-0 right-0 z-50 mt-1 rounded-md border bg-accent-1 text-popover-foreground shadow-md","max-h-60 overflow-auto",d),style:{minWidth:0},children:o.jsx("ul",{id:ce,ref:g,role:"listbox",className:"p-1",children:se.length===0?F?null:o.jsx("li",{className:je("text-muted-foreground select-none rounded-sm px-2 py-1.5 text-sm"),children:h}):se.map((N,L)=>{const q=L===H,$=!!N.disabled;return o.jsx("li",{role:"option","aria-selected":q,"data-disabled":$||void 0,className:je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden font-semibold","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",q?"bg-accent-10 text-accent-foreground":"hover:bg-accent hover:text-accent-foreground",f),onMouseEnter:()=>Z(L),onMouseDown:he=>{he.preventDefault()},onClick:()=>Oe(L),children:O(N)},`${T(N)}-${L}`)})})})]})}const Zl=()=>o.jsx(Ra,{children:o.jsx(rl,{})}),rl=()=>{const{nodeDetail:e,isLoading:t,error:n}=Et(),[r,a]=c.useState(""),[i,l]=c.useState([]),s=Array.isArray(e)?e.filter(d=>d.name.toLowerCase().includes(r.toLowerCase())).sort((d,f)=>d.weight-f.weight):[];return t?o.jsx(Sa,{text:""}):n?o.jsx("div",{children:n}):o.jsxs(K,{direction:"column",gap:"4",p:"4",children:[o.jsx(al,{searchTerm:r,setSearchTerm:a,selectedNodes:i}),o.jsx(il,{nodes:s,selectedNodes:i,setSelectedNodes:l})]})},al=({searchTerm:e,setSearchTerm:t,selectedNodes:n})=>{const{t:r}=$e(),{refresh:a}=Et(),[i,l]=c.useState(!1),[s,d]=c.useState(!1),f=w.useRef(null),h=async m=>{d(!0),l(!0);try{await fetch("/api/admin/client/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m||""})}),a()}catch(v){Pe.error(`${r("common.error","Error")}: ${v instanceof Error?v.message:String(v)}`)}finally{l(!1),d(!1)}};return o.jsxs(K,{justify:"between",align:"center",gap:"4",wrap:"wrap",children:[o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(gt,{size:"5",weight:"bold",children:r("admin.nodeTable.nodeList")}),n.length>0&&o.jsxs(gt,{size:"2",children:["(",n.length," selected)"]})]}),o.jsxs(K,{gap:"2",children:[o.jsx(fe,{placeholder:r("admin.nodeTable.searchByName"),value:e,onChange:m=>t(m.target.value)}),o.jsxs(St,{open:s,onOpenChange:d,children:[o.jsx(rt,{children:o.jsxs(Le,{onClick:()=>d(!0),children:[o.jsx(Wa,{size:16}),r("admin.nodeTable.addNode")]})}),o.jsxs(Rt,{children:[o.jsx(Tt,{children:r("admin.nodeTable.addNode")}),o.jsx(fe,{ref:f,placeholder:r("admin.nodeTable.nameOptional")}),o.jsx(K,{justify:"end",gap:"2",mt:"4",children:o.jsx(Le,{onClick:()=>{var m;return h((m=f.current)==null?void 0:m.value)},disabled:i,children:r("admin.nodeTable.addNode")})})]})]})]})]})},ol=({node:e,selectedNodes:t,handleSelectNode:n})=>{const{attributes:r,listeners:a,setNodeRef:i,transform:l,transition:s}=Li({id:e.uuid}),{t:d}=$e(),f=fr(),h={transform:Ct.Transform.toString(l),transition:s};function m(v){navigator.clipboard.writeText(v),Pe.success(d("copy_success"))}return o.jsxs(dr,{ref:i,style:h,className:"hover:bg-accent-a2",children:[o.jsx(Ve,{children:o.jsx("div",{...r,...a,className:`cursor-move p-2 rounded hover:bg-accent-a3 transition-colors ${f?"touch-manipulation select-none":""}`,style:{touchAction:"none",WebkitUserSelect:"none",userSelect:"none"},title:f?d("admin.nodeTable.dragToReorder","长按拖拽重新排序"):void 0,children:o.jsx(Qa,{size:f?18:16,color:"var(--gray-8)"})})}),o.jsx(Ve,{children:o.jsx(ye,{checked:t.includes(e.uuid),onCheckedChange:v=>n(e.uuid,!!v)})}),o.jsx(Ve,{children:o.jsx(dl,{node:e})}),o.jsx(Ve,{children:o.jsxs(K,{direction:"column",children:[e.ipv4&&o.jsxs(gt,{size:"2",className:"flex items-center gap-1",children:[e.ipv4,o.jsx(_e,{variant:"ghost",onClick:()=>m(e.ipv4),children:o.jsx(wt,{size:"16"})})]}),e.ipv6&&o.jsxs(gt,{size:"2",className:"flex items-center gap-1",title:e.ipv6,children:[e.ipv6.length>20?(()=>{const v=e.ipv6.split(":");return v.length>3?`${v.slice(0,2).join(":")}:...${v[v.length-1]}`:e.ipv6})():e.ipv6,o.jsx(_e,{variant:"ghost",onClick:()=>m(e.ipv6),children:o.jsx(wt,{size:"16"})})]})]})}),o.jsx(Ve,{children:e.version}),o.jsx(Ve,{children:o.jsx(gt,{size:"2",title:e.remark,style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.remark&&e.remark.length>10?`${e.remark.slice(0,10)}...`:e.remark})}),o.jsx(Ve,{children:o.jsx(Ta,{price:e.price,billing_cycle:e.billing_cycle,expired_at:e.expired_at,currency:e.currency,tags:e.tags||""})}),o.jsx(Ve,{children:o.jsx(sl,{node:e})})]})},il=({nodes:e,selectedNodes:t,setSelectedNodes:n})=>{const{t:r}=$e(),a=mo(cn(Tr,{activationConstraint:{distance:10}}),cn(jr,{activationConstraint:{delay:200,tolerance:5}}),cn(Ln,{})),[i,l]=c.useState(e),[s,d]=c.useState(!1);w.useEffect(()=>{l(e)},[e]);const f=()=>{d(!0),"vibrate"in navigator&&navigator.vibrate(50)},h=async b=>{d(!1);const{active:j,over:p}=b;if(!p||j.id===p.id)return;const E=i.findIndex(y=>y.uuid===j.id),x=i.findIndex(y=>y.uuid===p.id),R=Array.from(i),[D]=R.splice(E,1);R.splice(x,0,D),l(R),"vibrate"in navigator&&navigator.vibrate([30,10,30]);try{const y=R.reduce((O,T,u)=>(O[T.uuid]=u,O),{});await fetch("/api/admin/client/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})}catch{Pe.error("Order Failed")}},m=b=>{n(b?i.map(j=>j.uuid):[])},v=(b,j)=>{n(j?[...t,b]:t.filter(p=>p!==b))};return o.jsx("div",{className:`rounded-md overflow-hidden ${s?"select-none":""}`,children:o.jsx(gi,{sensors:a,collisionDetection:xo,onDragStart:f,onDragEnd:h,children:o.jsxs(Oa,{children:[o.jsx(Aa,{style:{backgroundColor:"var(--accent-4)"},children:o.jsxs(dr,{children:[o.jsx(He,{}),o.jsx(He,{children:o.jsx(ye,{checked:t.length===i.length&&i.length>0,onCheckedChange:m})}),o.jsx(He,{children:r("admin.nodeTable.name")}),o.jsx(He,{children:r("admin.nodeTable.ipAddress")}),o.jsx(He,{children:r("admin.nodeTable.clientVersion")}),o.jsx(He,{children:r("admin.nodeEdit.remark")}),o.jsx(He,{children:r("admin.nodeTable.billing")}),o.jsx(He,{})]})}),o.jsx(Ia,{children:o.jsx(Ni,{items:i.map(b=>b.uuid),strategy:Ti,children:i.map(b=>o.jsx(ol,{node:b,selectedNodes:t,handleSelectNode:v},b.uuid))})})]})})})},sl=({node:e})=>{const{t}=$e();return o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(cl,{node:e}),o.jsx(_e,{title:t("terminal.title"),variant:"ghost",onClick:()=>{window.open(`/terminal?uuid=${e.uuid}`,"_blank")},children:o.jsx(Va,{size:"18"})}),o.jsx(ul,{node:e}),o.jsx(fl,{node:e}),o.jsx(ll,{node:e})]})};function ll({node:e}){const{t}=$e(),{refresh:n}=Et(),[r,a]=w.useState(!1),[i,l]=w.useState(!1),s=async()=>{try{l(!0),await fetch(`/api/admin/client/${e.uuid}/remove`,{method:"POST"}),Pe.success(`Delete ${e.name}`),a(!1),n()}catch(d){Pe.error(`Error: ${d instanceof Error?d.message:String(d)}`)}finally{l(!1)}};return o.jsxs(St,{open:r,onOpenChange:a,children:[o.jsx(rt,{children:o.jsx(_e,{variant:"ghost",color:"red",title:t("delete"),children:o.jsx(qa,{size:"18"})})}),o.jsxs(Rt,{children:[o.jsx(Tt,{children:t("delete")}),o.jsx(Ha,{children:t("admin.nodeTable.confirmDelete")}),o.jsxs(K,{justify:"end",gap:"2",mt:"4",children:[o.jsx(rt,{children:o.jsx(Le,{variant:"soft",children:t("admin.nodeTable.cancel")})}),o.jsx(Le,{disabled:i,color:"red",onClick:s,children:t("admin.nodeTable.confirmDelete")})]})]})]})}function cl({node:e}){const[t,n]=w.useState("linux"),[r,a]=w.useState({disableWebSsh:!1,disableAutoUpdate:!1,ignoreUnsafeCert:!1,memoryIncludeCache:!1,ghproxy:"",dir:"",serviceName:"",includeNics:"",excludeNics:"",includeMountpoints:"",monthRotate:""}),[i,l]=w.useState(!1),[s,d]=w.useState(!1),[f,h]=w.useState(!1),[m,v]=w.useState(!1),[b,j]=w.useState(!1),[p,E]=w.useState(!1),[x,R]=w.useState(!1),{settings:D}=za(),y=()=>{const u=function(){return D.script_domain?D.script_domain.startsWith("http")?D.script_domain.replace(/\/+$/,""):`http://${D.script_domain.replace(/\/+$/,"")}`:window.location.origin}(),g=e.token||"";let C=["-e",u,"-t",g];if(r.disableWebSsh&&C.push("--disable-web-ssh"),r.disableAutoUpdate&&C.push("--disable-auto-update"),r.ignoreUnsafeCert&&C.push("--ignore-unsafe-cert"),r.memoryIncludeCache&&C.push("--memory-include-cache"),i&&r.ghproxy){const S=(r.ghproxy.startsWith("http")?r.ghproxy:`http://${r.ghproxy}`).replace(/\/+$/,"");C.push("--install-ghproxy"),C.push(S)}if(s&&r.dir&&(C.push("--install-dir"),C.push(r.dir)),f&&r.serviceName&&(C.push("--install-service-name"),C.push(r.serviceName)),m&&r.includeNics&&(C.push("--include-nics"),C.push(r.includeNics)),b&&r.excludeNics&&(C.push("--exclude-nics"),C.push(r.excludeNics)),p&&r.includeMountpoints&&(C.push("--include-mountpoint"),C.push(r.includeMountpoints)),x){const S=(r.monthRotate||"").trim()||"1";C.push("--month-rotate"),C.push(S)}let P="install.sh";t==="windows"&&(P="install.ps1");let A=`https://raw.githubusercontent.com/komari-monitor/komari-agent/refs/heads/main/${P}`;i&&i&&r.ghproxy&&(A=A.slice(8),r.ghproxy.endsWith("/")?A=`${r.ghproxy}${A}`:A=`${r.ghproxy}/${A}`,A.startsWith("http")||(A=`http://${A}`));let _="";switch(t){case"linux":_=`bash <(curl -sL ${A}) `+C.join(" ");break;case"windows":_=`powershell.exe -NoProfile -ExecutionPolicy Bypass -Command "iwr '${A}' -UseBasicParsing -OutFile 'install.ps1'; & '.\\install.ps1'`,C.forEach(S=>{_+=` '${S}'`}),_+='"';break;case"macos":_=`zsh <(curl -sL ${A}) `+C.join(" ");break}return _},O=async u=>{try{await navigator.clipboard.writeText(u),Pe.success(T("copy_success","已复制到剪贴板"))}catch(g){console.error("Failed to copy text: ",g)}},{t:T}=$e();return o.jsxs(St,{children:[o.jsx(rt,{children:o.jsx(_e,{variant:"ghost",title:T("admin.nodeTable.installCommand"),children:o.jsx(Ya,{size:"18"})})}),o.jsxs(Rt,{children:[o.jsx(Tt,{children:T("admin.nodeTable.installCommand","一键部署指令")}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs(Na,{value:t,onValueChange:u=>n(u),children:[o.jsx(on,{value:"linux",children:"Linux"}),o.jsx(on,{value:"windows",children:"Windows"}),o.jsx(on,{value:"macos",children:"macOS"})]}),o.jsxs(K,{direction:"column",gap:"2",children:[o.jsx("label",{className:"text-base font-bold",children:T("admin.nodeTable.installOptions","安装选项")}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:r.disableWebSsh,onCheckedChange:u=>{a(g=>({...g,disableWebSsh:!!u}))}}),o.jsx("label",{className:"text-sm font-normal",onClick:()=>{a(u=>({...u,disableWebSsh:!u.disableWebSsh}))},children:T("admin.nodeTable.disableWebSsh")})]}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:r.disableAutoUpdate,onCheckedChange:u=>{a(g=>({...g,disableAutoUpdate:!!u}))}}),o.jsx("label",{className:"text-sm font-normal",onClick:()=>{a(u=>({...u,disableAutoUpdate:!u.disableAutoUpdate}))},children:T("admin.nodeTable.disableAutoUpdate","禁用自动更新")})]}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:r.ignoreUnsafeCert,onCheckedChange:u=>{a(g=>({...g,ignoreUnsafeCert:!!u}))}}),o.jsx("label",{className:"text-sm font-normal",onClick:()=>{a(u=>({...u,ignoreUnsafeCert:!u.ignoreUnsafeCert}))},children:T("admin.nodeTable.ignoreUnsafeCert","忽略不安全证书")})]}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:r.memoryIncludeCache,onCheckedChange:u=>{a(g=>({...g,memoryIncludeCache:!!u}))}}),o.jsx("label",{className:"text-sm font-normal",onClick:()=>{a(u=>({...u,memoryIncludeCache:!u.memoryIncludeCache}))},children:T("admin.nodeTable.memoryModeAvailable","监测可用内存")}),o.jsx(Nn,{size:"14",children:T("admin.nodeTable.memoryModeAvailable_tip")})]})]}),o.jsxs(K,{direction:"column",gap:"2",children:[o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:i,onCheckedChange:u=>{l(!!u),u||a(g=>({...g,ghproxy:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{l(!i),i&&a(u=>({...u,ghproxy:""}))},children:T("admin.nodeTable.ghproxy","GitHub 代理")})]}),i&&o.jsx(fe,{placeholder:"https://ghfast.top/",value:r.ghproxy,onChange:u=>a(g=>({...g,ghproxy:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:s,onCheckedChange:u=>{d(!!u),u||a(g=>({...g,dir:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{d(!s),s&&a(u=>({...u,dir:""}))},children:T("admin.nodeTable.install_dir","安装目录")})]}),s&&o.jsx(fe,{placeholder:T("admin.nodeTable.install_dir_placeholder","安装目录，为空则使用默认目录(/opt/komari-agent)"),value:r.dir,onChange:u=>a(g=>({...g,dir:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:f,onCheckedChange:u=>{h(!!u),u||a(g=>({...g,serviceName:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{h(!f),f&&a(u=>({...u,serviceName:""}))},children:T("admin.nodeTable.serviceName","服务名称")})]}),f&&o.jsx(fe,{placeholder:T("admin.nodeTable.serviceName_placeholder","服务名称，为空则使用默认名称(komari-agent)"),value:r.serviceName,onChange:u=>a(g=>({...g,serviceName:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:m,onCheckedChange:u=>{v(!!u),u||a(g=>({...g,includeNics:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{v(!m),m&&a(u=>({...u,includeNics:""}))},children:T("admin.nodeTable.includeNics","只监测特定网卡")})]}),m&&o.jsx(fe,{placeholder:"eth0,eth1",value:r.includeNics,onChange:u=>a(g=>({...g,includeNics:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:b,onCheckedChange:u=>{j(!!u),u||a(g=>({...g,excludeNics:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{j(!b),b&&a(u=>({...u,excludeNics:""}))},children:T("admin.nodeTable.excludeNics","排除特定网卡")})]}),b&&o.jsx(fe,{placeholder:"lo",value:r.excludeNics,onChange:u=>a(g=>({...g,excludeNics:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:p,onCheckedChange:u=>{E(!!u),u||a(g=>({...g,includeMountpoints:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{E(!p),p&&a(u=>({...u,includeMountpoints:""}))},children:T("admin.nodeTable.includeMountpoints","只监测特定挂载点")})]}),p&&o.jsx(fe,{placeholder:"/;/home;/var",value:r.includeMountpoints,onChange:u=>a(g=>({...g,includeMountpoints:u.target.value}))}),o.jsxs(K,{gap:"2",align:"center",children:[o.jsx(ye,{checked:x,onCheckedChange:u=>{const g=!!u;R(g),a(g?C=>{var P;return{...C,monthRotate:(P=C.monthRotate)!=null&&P.trim()?C.monthRotate:"1"}}:C=>({...C,monthRotate:""}))}}),o.jsx("label",{className:"text-sm font-bold cursor-pointer",onClick:()=>{const u=!x;R(u),a(u?g=>{var C;return{...g,monthRotate:(C=g.monthRotate)!=null&&C.trim()?g.monthRotate:"1"}}:g=>({...g,monthRotate:""}))},children:T("admin.nodeTable.monthRotate","网络统计月重置")})]}),x&&o.jsx(fe,{placeholder:"1",type:"number",min:"1",max:"31",value:r.monthRotate,onChange:u=>a(g=>({...g,monthRotate:u.target.value}))})]})]}),o.jsxs(K,{direction:"column",gap:"2",children:[o.jsx("label",{className:"text-base font-bold",children:T("admin.nodeTable.generatedCommand","生成的指令")}),o.jsx("div",{className:"relative",children:o.jsx(xn,{disabled:!0,className:"w-full",style:{minHeight:"80px"},value:y()})})]}),o.jsx(K,{justify:"center",children:o.jsxs(Le,{style:{width:"100%"},onClick:()=>O(y()),children:[o.jsx(wt,{size:16}),T("copy")]})})]})]})]})}function ul({node:e}){const{t}=$e(),[n,r]=c.useState(!1),{refresh:a}=Et(),i=w.useRef(null),l=w.useRef(null),s=w.useRef(null),d=w.useRef(null),f=w.useRef(null),[h,m]=c.useState(!1),[v,b]=c.useState(!1),[j,p]=c.useState(0),[E,x]=c.useState("sum");w.useEffect(()=>{m(e.hidden),p(e.traffic_limit||0),x(e.traffic_limit_type||"sum")},[e.hidden,e.traffic_limit,e.traffic_limit_type]);const R=async()=>{var D,y,O,T,u;try{b(!0),await fetch(`/api/admin/client/${e.uuid}/edit`,{method:"POST",body:JSON.stringify({name:(D=i.current)==null?void 0:D.value,remark:(y=f.current)==null?void 0:y.value,public_remark:(O=d.current)==null?void 0:O.value,group:(T=l.current)==null?void 0:T.value,tags:(u=s.current)==null?void 0:u.value,hidden:h,traffic_limit:j,traffic_limit_type:E}),headers:{"Content-Type":"application/json"}}),a(),r(!1),Pe.success(t("admin.nodeEdit.saveSuccess","保存成功"))}catch(g){console.error("Error updating client:",g)}finally{b(!1)}};return o.jsxs(St,{open:n,onOpenChange:r,children:[o.jsx(rt,{children:o.jsx(_e,{variant:"ghost",title:t("admin.nodeEdit.editInfo","编辑信息"),children:o.jsx(Xa,{size:"18"})})}),o.jsxs(Rt,{children:[o.jsx(Tt,{children:t("admin.nodeEdit.editInfo","编辑信息")}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm font-medium text-muted-foreground",children:t("admin.nodeEdit.name","名称")}),o.jsx(fe,{defaultValue:e.name,placeholder:t("admin.nodeEdit.namePlaceholder","请输入名称"),ref:i})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm font-medium text-muted-foreground",children:t("admin.nodeEdit.token","Token 令牌")}),o.jsx(fe,{value:e.token,placeholder:t("admin.nodeEdit.tokenPlaceholder","请输入 Token"),readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"mb-1 text-sm font-medium text-muted-foreground flex items-center",children:[t("common.tags"),o.jsx("label",{className:"text-muted-foreground ml-1 text-xs self-end",children:t("common.tagsDescription")}),o.jsx(Nn,{children:o.jsx("span",{dangerouslySetInnerHTML:{__html:t("common.tagsTips")}})})]}),o.jsx(fe,{defaultValue:e.tags,ref:s})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm font-medium text-muted-foreground",children:t("common.group")}),o.jsx(fe,{defaultValue:e.group,ref:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm font-medium text-muted-foreground",children:t("admin.nodeEdit.remark","私有备注")}),o.jsx(xn,{defaultValue:e.remark,ref:f,resize:"vertical",placeholder:t("admin.nodeEdit.remarkPlaceholder","请输入私有备注")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm font-medium text-muted-foreground",children:t("admin.nodeEdit.publicRemark","公开备注")}),o.jsx(xn,{defaultValue:e.public_remark,resize:"vertical",placeholder:t("admin.nodeEdit.publicRemarkPlaceholder","请输入公开备注"),ref:d})]}),o.jsx("div",{children:o.jsx(mr,{title:t("admin.nodeEdit.hidden"),description:t("admin.nodeEdit.hidden_description"),defaultChecked:h,onChange:m})}),o.jsxs($a,{title:t("admin.nodeEdit.trafficLimit"),children:[o.jsx(Fa,{bordless:!0,title:t("admin.nodeEdit.trafficLimitType"),defaultValue:e.traffic_limit_type||"max",options:[{label:t("admin.nodeEdit.trafficLimitType_sum"),value:"sum"},{label:t("admin.nodeEdit.trafficLimitType_max"),value:"max"},{label:t("admin.nodeEdit.trafficLimitType_min"),value:"min"},{label:t("admin.nodeEdit.trafficLimitType_up"),value:"up"},{label:t("admin.nodeEdit.trafficLimitType_down"),value:"down"}],OnSave:D=>{x(D)}}),o.jsx(Ba,{bordless:!0,title:t("admin.nodeEdit.trafficLimit"),description:t("admin.nodeEdit.trafficLimit_description"),defaultValue:Vt(j||0),showSaveButton:!1,onChange:D=>{p(_a(D.currentTarget.value))},onBlur:D=>{D.currentTarget.value=Vt(j)}})]})]}),o.jsx(K,{gap:"2",justify:"end",className:"mt-4",children:o.jsx(Le,{type:"submit",className:"w-full",disabled:v,onClick:R,children:v?t("admin.nodeEdit.waiting","等待..."):t("save","保存")})})]})]})}function dl({node:e}){var r;const{t}=$e(),n=fr();return o.jsxs(Ys,{direction:n?"bottom":"right",children:[o.jsx(Xs,{asChild:!0,children:o.jsxs("div",{className:"h-8 flex items-center hover:underline cursor-pointer font-bold text-base",children:[o.jsx(ja,{flag:e.region,size:"6"}),e.name.length>25?e.name.slice(0,25)+"...":e.name]})}),o.jsxs(Js,{children:[o.jsxs(Qs,{className:"gap-1",children:[o.jsx(el,{children:e.name}),o.jsx(tl,{children:t("admin.nodeDetail.machineDetail","机器详细信息")})]}),o.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto px-4 text-sm",children:o.jsxs("form",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-ip",children:t("admin.nodeDetail.ipAddress","IP 地址")}),o.jsxs("div",{className:"flex flex-col gap-1",children:[e.ipv4&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{id:"detail-ipv4",className:"bg-muted px-3 py-2 rounded border flex-1 min-w-0 select-text",children:e.ipv4}),o.jsx(_e,{variant:"ghost",className:"size-5",type:"button",onClick:()=>{navigator.clipboard.writeText(e.ipv4)},children:o.jsx(wt,{size:16})})]}),e.ipv6&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{id:"detail-ipv6",className:"bg-muted px-3 py-2 rounded border flex-1 min-w-0 select-text",children:e.ipv6}),o.jsx(_e,{variant:"ghost",className:"size-5",type:"button",onClick:()=>{navigator.clipboard.writeText(e.ipv6)},children:o.jsx(wt,{size:16})})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-version",children:t("admin.nodeDetail.clientVersion","客户端版本")}),o.jsx("span",{id:"detail-version",className:"bg-muted px-3 py-2 rounded border select-text",children:e.version||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-os",children:t("admin.nodeDetail.os","操作系统")}),o.jsx("span",{id:"detail-os",className:"bg-muted px-3 py-2 rounded border select-text",children:e.os||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-arch",children:t("admin.nodeDetail.arch","架构")}),o.jsx("span",{id:"detail-arch",className:"bg-muted px-3 py-2 rounded border select-text",children:e.arch||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-cpu_name",children:t("admin.nodeDetail.cpu","CPU")}),o.jsx("span",{id:"detail-cpu_name",className:"bg-muted px-3 py-2 rounded border select-text",children:e.cpu_name||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-cpu_cores",children:t("admin.nodeDetail.cpuCores","CPU 核心数")}),o.jsx("span",{id:"detail-cpu_cores",className:"bg-muted px-3 py-2 rounded border select-text",children:((r=e.cpu_cores)==null?void 0:r.toString())||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-mem_total",children:t("admin.nodeDetail.memTotal","总内存 (Bytes)")}),o.jsx("span",{id:"detail-mem_total",className:"bg-muted px-3 py-2 rounded border select-text",title:e.mem_total?String(e.mem_total)+" Bytes":"-",children:Vt(e.mem_total)})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-disk_total",children:t("admin.nodeDetail.diskTotal","总磁盘空间 (Bytes)")}),o.jsx("span",{id:"detail-disk_total",className:"bg-muted px-3 py-2 rounded border select-text",title:e.disk_total?String(e.disk_total)+" Bytes":"-",children:Vt(e.disk_total)})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-gpu_name",children:t("admin.nodeDetail.gpu","GPU")}),o.jsx("span",{id:"detail-gpu_name",className:"bg-muted px-3 py-2 rounded border select-text",children:e.gpu_name||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-uuid",children:t("admin.nodeDetail.uuid","UUID")}),o.jsx("span",{id:"detail-uuid",className:"bg-muted px-3 py-2 rounded border select-text",children:e.uuid||o.jsx("span",{className:"text-muted-foreground",children:"-"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-createdAt",children:t("admin.nodeDetail.createdAt","创建时间")}),o.jsx("span",{id:"detail-createdAt",className:"bg-muted px-3 py-2 rounded border select-text",children:e.created_at?new Date(e.created_at).toLocaleString():o.jsx("span",{className:"text-muted-foreground",children:"-"})})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("label",{htmlFor:"detail-updatedAt",children:t("admin.nodeDetail.updatedAt","更新时间")}),o.jsx("span",{id:"detail-updatedAt",className:"bg-muted px-3 py-2 rounded border select-text",children:e.updated_at?new Date(e.updated_at).toLocaleString():o.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]})]})}),o.jsx(Zs,{children:o.jsx(Ks,{asChild:!0,children:o.jsx(Le,{children:t("admin.nodeDetail.done","完成")})})})]})]})}function fl({node:e}){const{t}=$e(),{refresh:n}=Et(),[r,a]=c.useState(!1),[i,l]=c.useState(!1),[s,d]=w.useState(e.billing_cycle.toString()),[f,h]=w.useState(e.auto_renewal||!1),[m,v]=w.useState(e.currency||"$"),b=async j=>{j.preventDefault();try{l(!0);const p=new FormData(j.target),E=p.get("price")||"0",x=parseFloat(E);if(isNaN(x)||x<0&&x!==-1){Pe.error(t("admin.nodeTable.invalidPrice"));return}const R=parseInt(p.get("billingCycle")||"30"),D=p.get("expiredAt")||"",y=p.get("currency")||"$";await fetch(`/api/admin/client/${e.uuid}/edit`,{method:"POST",body:JSON.stringify({price:x,billing_cycle:R,expired_at:D,currency:y,auto_renewal:f}),headers:{"Content-Type":"application/json"}}),n(),a(!1)}catch(p){Pe.error("Failed to save billing information:"+p)}finally{l(!1)}};return o.jsxs(St,{open:r,onOpenChange:a,children:[o.jsx(rt,{children:o.jsx(_e,{variant:"ghost",title:t("admin.nodeTable.billing","账单"),children:o.jsx(Ga,{size:"18"})})}),o.jsxs(Rt,{children:[o.jsx(Tt,{children:t("admin.nodeTable.billing","账单")}),o.jsx("form",{onSubmit:b,children:o.jsxs(K,{direction:"column",gap:"2",children:[o.jsxs("label",{className:"font-bold",children:[o.jsx("label",{children:t("admin.nodeTable.price")}),o.jsx("label",{className:"text-muted-foreground text-sm ml-1 font-medium",children:t("admin.nodeTable.priceTips")})]}),o.jsx(fe,{name:"price",defaultValue:e.price}),o.jsxs("label",{className:"font-bold",children:[o.jsx("label",{children:t("admin.nodeTable.currency","货币")}),o.jsx("label",{className:"text-muted-foreground text-sm ml-1 font-medium",children:t("admin.nodeTable.currencyTips")})]}),o.jsx(fe,{name:"currency",defaultValue:m,onChange:j=>v(j.target.value)}),o.jsxs("label",{className:"font-bold flex items-center gap-1",children:[t("admin.nodeTable.billingCycle")," ",o.jsx(Nn,{children:o.jsx("span",{dangerouslySetInnerHTML:{__html:t("admin.nodeTable.billingCycleTips")}})})]}),o.jsx(nl,{options:[{label:t("common.monthly"),value:"30"},{label:t("common.quarterly"),value:"92"},{label:t("common.semi_annual"),value:"184"},{label:t("common.annual"),value:"365"},{label:t("common.biennial"),value:"730"},{label:t("common.triennial"),value:"1095"},{label:t("common.quinquennial"),value:"1825"},{label:t("common.once"),value:"-1"}],type:"number",name:"billingCycle",value:s==="0"?"":s,onChange:d}),o.jsx(K,{gap:"2",align:"center",children:o.jsx("label",{className:"font-bold",children:t("admin.nodeTable.expiredAt")})}),o.jsx(fe,{name:"expiredAt",defaultValue:e.expired_at?new Date(e.expired_at).toISOString().slice(0,10):"0001-01-01",type:"date",children:o.jsx(Ua,{side:"right",children:o.jsx(Le,{type:"button",variant:"ghost",onClick:()=>{const j=document.querySelector('input[name="expiredAt"]');if(j){const p=new Date;p.setFullYear(p.getFullYear()+200),j.value=p.toISOString().slice(0,10)}},children:t("admin.nodeTable.setToLongTerm","设置为长期")})})}),o.jsx(K,{gap:"2",align:"center"}),o.jsx(mr,{title:t("admin.nodeTable.autoRenewal"),description:t("admin.nodeTable.autoRenewalDescription"),defaultChecked:e.auto_renewal||!1,onChange:h}),o.jsx(Le,{type:"submit",disabled:i,children:t("save")})]})})]})]})}export{Zl as default};
